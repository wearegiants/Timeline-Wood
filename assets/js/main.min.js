function cartStuff(){$(function(){function e(t,a,i){var o=[];for(var s in t)t.hasOwnProperty(s)&&("object"==typeof t[s]?o=o.concat(e(t[s],a,i)):s==a&&t[a]==i&&o.push(t));return o}$.getJSON("http://shop.timelinewood.com/cart.json?callback=?").done(function(t){var a=t.item_count,i=t.total_price,o=i/100;if(o>0){var s=t.items;$.each(s,function(t,a){$.getJSON("http://shop.timelinewood.com/products/"+s[t].handle+".json?callback=?").done(function(a){if(s[t].image)var i='<div class="fs-cell fs-all-third"><img class="img-responsive" src="'+s[t].image+'" alt=""></div>';else var i='<img src="/assets/images/image-20.jpg" alt="">';var o=s[t].variant_id,n=e(a.product.variants,"id",o),l=n[0].title,c=s[t].price/100*s[t].quantity,r=s[t].quantity;$("#items").append('<div class="item fs-row clearfix">'+i+'<div class="desc fs-cell fs-lg-8 fs-md-4 fs-sm-3 text-left"><a href="http://shop.timelinewood.comproducts/'+s[t].handle+'">'+a.product.title+"</a><div>Quantity: "+r+'</div></div><div class="price fs-cell fs-lg-8 fs-md-4 fs-sm-3 text-left">$'+c+"</div></div>")})}),$("#bagtotal").append('<div class="bag-meta text-right"><div class="total clearfix">Subtotal <span>$'+o+'</span></div><small>Shipping and taxes calculated at checkout</small></div><a href="http://shop.timelinewood.com/cart" class="button_link bag-checkout btn btn--full centertext"><span class="ss-gizmo ss-right right">Checkout</span></a>'),$("#mobile_bag").html(a)}else $("#bagtotal").html('<div class="text-center">Your bag is empty!</div>'),$("#mobile_bag").html("0")}),$("#open_bag").click(function(e){e.preventDefault(),$("#bag").addClass("is-visible")}),$("#close_bag").click(function(e){e.preventDefault(),$("#bag").removeClass("is-visible")})})}function mobileMenu(){var e=$("#header-navigation").html(),t=$("#mobile-menu_container").html(e);$("#mobile-menu_container a").removeClass("btn-nav").addClass("btn-mobile fs-cell fs-lg-fourth fs-md-fourth fs-sm-third fs-xs-half"),$(".mobile-toggle").swap()}function scrollFixed(){$("#header").scrollToFixed({})}function productHover(){$(".btn--products").hover(function(){$(".product--swap").swap("activate")}),$("#content-wrapper").hover(function(){$(".product--swap").swap("deactivate")})}function openModal(){$(".open--modal").magnificPopup({type:"inline",preloader:!1,modal:!0}),$(".cart-link").magnificPopup({type:"ajax",midClick:!0,removalDelay:1e3,alignTop:!0,overflowY:"scroll",mainClass:"mfp-cart fs-grid",callbacks:{parseAjax:function(e){e.data=$(e.data).find("#cart")},ajaxContentAdded:function(){$("body").addClass("is-viewing--cart")},beforeClose:function(){$("body").removeClass("is-viewing--cart")}}}),$(document).on("click",".popup-modal-dismiss",function(e){e.preventDefault(),$.magnificPopup.close()})}function arrangeBlog(){var e=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0});e.imagesLoaded().progress(function(){e.isotope("layout")})}cartStuff(),$("#add").on("click",function(){$("#items").empty(),$("#bagtotal").empty(),cartStuff(),$("#bag").addClass("is-visible"),setTimeout(function(){$("#bag").removeClass("is-visible")},2e3)}),$(".wallpaper").background({lazy:!0}),$(".carousel").carousel({}),$(".product-carousel").carousel({}),$("input[type='number']").number(),$(".btn--swap").swap(),$(".swap").swap(),$(".product--swap").swap(),$(".lightbox").lightbox({}),$(window).resize(function(){var e=$(window).height(),t=$("#header").height();$(".hero--wh").css({height:.75*(e-t)})}).resize(),$(function(){var e=!0;if($(".grid").length){$(".grid").isotope({itemSelector:".grid-item"}),e=!1}$.fn.almComplete=function(t){if($(".grid").length){var a=$(".grid");e||(a.isotope("reloadItems"),a.imagesLoaded(function(){a.isotope()}))}}}),$(document).ready(function(){openModal(),arrangeBlog(),productHover(),scrollFixed(),$("#header-navigation .menu-item-has-children").hover(function(){$(".home__hero").addClass("is-active")},function(){$(".home__hero").removeClass("is-active")}),$(".single-page").onePageNav({currentClass:"current",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(e){}})});