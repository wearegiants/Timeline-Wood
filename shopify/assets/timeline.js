function cartStuff(){$(function(){function t(e,i,n){var o=[];for(var r in e)e.hasOwnProperty(r)&&("object"==typeof e[r]?o=o.concat(t(e[r],i,n)):r==i&&e[i]==n&&o.push(e));return o}$.getJSON("//shop.timelinewood.com/cart.json?callback=?").done(function(e){var i=e.item_count,n=e.total_price,o=n/100;if(o>0){var r=e.items;$.each(r,function(e,i){$.getJSON("//shop.timelinewood.com/products/"+r[e].handle+".json?callback=?").done(function(i){if(r[e].image)var n='<div class="fs-cell fs-all-third"><img class="img-responsive" src="'+r[e].image+'" alt=""></div>';else var n='<img src="/assets/images/image-20.jpg" alt="">';var o=r[e].variant_id,s=t(i.product.variants,"id",o),a=s[0].title,l=r[e].price/100*r[e].quantity,c=r[e].quantity;$("#items").append('<div class="item fs-row clearfix">'+n+'<div class="desc fs-cell fs-lg-8 fs-md-4 fs-sm-3 text-left"><a href="//shop.timelinewood.comproducts/'+r[e].handle+'">'+i.product.title+"</a><div>Quantity: "+c+'</div></div><div class="price fs-cell fs-lg-8 fs-md-4 fs-sm-3 text-left">$'+l+"</div></div>")})}),$("#bagtotal").append('<div class="bag-meta text-right"><div class="total clearfix">Subtotal <span>$'+o+'</span></div><small>Shipping and taxes calculated at checkout</small></div><a href="https://shop.timelinewood.com/cart" class="button_link bag-checkout btn btn--full centertext"><span class="ss-gizmo ss-right right">Checkout</span></a>'),$("#mobile_bag").html(i)}else $("#bagtotal").html('<div class="text-center">Your bag is empty!</div>'),$("#mobile_bag").html("0")}),$("#open_bag").click(function(t){t.preventDefault(),$("#bag").addClass("is-visible")}),$("#close_bag").click(function(t){t.preventDefault(),$("#bag").removeClass("is-visible")})})}function mobileMenu(){var t=$("#header-navigation").html(),e=$("#mobile-menu_container").html(t);$("#mobile-menu_container a").removeClass("btn-nav").addClass("btn-mobile fs-cell fs-lg-fourth fs-md-fourth fs-sm-third fs-xs-half"),$(".mobile-toggle").swap()}function scrollFixed(){$("#header").scrollToFixed({})}function productHover(){$(".btn--products").hover(function(){$(".product--swap").swap("activate")}),$("#content-wrapper").hover(function(){$(".product--swap").swap("deactivate")})}function openModal(){$(".open--modal").magnificPopup({type:"inline",preloader:!1,modal:!0}),$(".cart-link").magnificPopup({type:"ajax",midClick:!0,removalDelay:1e3,alignTop:!0,overflowY:"scroll",mainClass:"mfp-cart fs-grid",callbacks:{parseAjax:function(t){t.data=$(t.data).find("#cart")},ajaxContentAdded:function(){$("body").addClass("is-viewing--cart")},beforeClose:function(){$("body").removeClass("is-viewing--cart")}}}),$(document).on("click",".popup-modal-dismiss",function(t){t.preventDefault(),$.magnificPopup.close()})}function arrangeBlog(){var t=$(".grid").isotope({itemSelector:".grid-item",percentPosition:!0});t.imagesLoaded().progress(function(){t.isotope("layout")})}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){p.Plugins[t].initialized||(p.Plugins[t].methods._setup.call(document),p.Plugins[t].initialized=!0)}function i(t,e,i,n){var o,r={raw:{}};n=n||{};for(o in n)n.hasOwnProperty(o)&&("classes"===t?(r.raw[n[o]]=e+"-"+n[o],r[n[o]]="."+e+"-"+n[o]):(r.raw[o]=n[o],r[o]=n[o]+"."+e));for(o in i)i.hasOwnProperty(o)&&("classes"===t?(r.raw[o]=i[o].replace(/{ns}/g,e),r[o]=i[o].replace(/{ns}/g,"."+e)):(r.raw[o]=i[o].replace(/.{ns}/g,""),r[o]=i[o].replace(/{ns}/g,e)));return r}function n(){var t,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},i=["transition","-webkit-transition"],n={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},o="transitionend",r="",s="",a=document.createElement("div");for(t in e)if(e.hasOwnProperty(t)&&t in a.style){o=e[t],p.support.transition=!0;break}m.transitionEnd=o+".{ns}";for(t in i)if(i.hasOwnProperty(t)&&i[t]in a.style){r=i[t];break}p.transition=r;for(t in n)if(n.hasOwnProperty(t)&&n[t]in a.style){p.support.transform=!0,s=n[t];break}p.transform=s}function o(){p.windowWidth=p.$window.width(),p.windowHeight=p.$window.height(),g=u.startTimer(g,v,r)}function r(){for(var t in p.ResizeHandlers)p.ResizeHandlers.hasOwnProperty(t)&&p.ResizeHandlers[t].callback.call(window,p.windowWidth,p.windowHeight)}function s(){if(p.support.raf){p.window.requestAnimationFrame(s);for(var t in p.RAFHandlers)p.RAFHandlers.hasOwnProperty(t)&&p.RAFHandlers[t].callback.call(window)}}function a(t,e){return parseInt(t.priority)-parseInt(e.priority)}var l="undefined"!=typeof window?window:this,c=l.document,d=function(){this.Version="1.3.0",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=l,this.$window=t(l),this.document=c,this.$document=t(c),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},u={killEvent:function(t,e){try{t.preventDefault(),t.stopPropagation(),e&&t.stopImmediatePropagation()}catch(t){}},startTimer:function(t,e,i,n){return u.clearTimer(t),n?setInterval(i,e):setTimeout(i,e)},clearTimer:function(t,e){t&&(e?clearInterval(t):clearTimeout(t),t=null)},sortAsc:function(t,e){return parseInt(t,10)-parseInt(e,10)},sortDesc:function(t,e){return parseInt(e,10)-parseInt(t,10)},decodeEntities:function(t){var e=p.document.createElement("textarea");return e.innerHTML=t,e.value},parseQueryString:function(t){for(var e={},i=t.slice(t.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var o=i[n].split("=");e[o[0]]=o[1]}return e}},p=new d,h=t.Deferred(),f={base:"{ns}",element:"{ns}-element"},m={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};d.prototype.NoConflict=function(){p.DontConflict=!0;for(var e in p.Plugins)p.Plugins.hasOwnProperty(e)&&(t[e]=p.Conflicts[e],t.fn[e]=p.Conflicts.fn[e])},d.prototype.Plugin=function(n,o){return p.Plugins[n]=function(e,n){function o(i){var o,r,a,l="object"===t.type(i),c=this,d=t();for(i=t.extend(!0,{},n.defaults||{},l?i:{}),r=0,a=c.length;r<a;r++)if(o=c.eq(r),!s(o)){var u="__"+n.guid++,p=n.classes.raw.base+u,h=o.data(e+"-options"),f=t.extend(!0,{$el:o,guid:u,rawGuid:p,dotGuid:"."+p},i,"object"===t.type(h)?h:{});o.addClass(n.classes.raw.element).data(v,f),n.methods._construct.apply(o,[f].concat(Array.prototype.slice.call(arguments,l?1:0))),d=d.add(o)}for(r=0,a=d.length;r<a;r++)o=d.eq(r),n.methods._postConstruct.apply(o,[s(o)]);return c}function r(t){n.functions.iterate.apply(this,[n.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(n.classes.raw.element).removeData(v)}function s(t){return t.data(v)}function l(e){if(this instanceof t){var i=n.methods[e];return"object"!==t.type(e)&&e?i&&0!==e.indexOf("_")?n.functions.iterate.apply(this,[i].concat(Array.prototype.slice.call(arguments,1))):this:o.apply(this,arguments)}}function c(e){var i=n.utilities[e]||n.utilities._initialize||!1;if(i)return i.apply(window,Array.prototype.slice.call(arguments,"object"===t.type(e)?0:1))}function d(e){n.defaults=t.extend(!0,n.defaults,e||{})}function h(e){for(var i=this,n=0,o=i.length;n<o;n++){var r=i.eq(n),a=s(r)||{};"undefined"!==t.type(a.$el)&&e.apply(r,[a].concat(Array.prototype.slice.call(arguments,1)))}return i}var g="fs-"+e,v="fs"+e.replace(/(^|\s)([a-z])/g,function(t,e,i){return e+i.toUpperCase()});return n.initialized=!1,n.priority=n.priority||10,n.classes=i("classes",g,f,n.classes),n.events=i("events",e,m,n.events),n.functions=t.extend({getData:s,iterate:h},u,n.functions),n.methods=t.extend(!0,{_setup:t.noop,_construct:t.noop,_postConstruct:t.noop,_destruct:t.noop,_resize:!1,destroy:r},n.methods),n.utilities=t.extend(!0,{_initialize:!1,_delegate:!1,defaults:d},n.utilities),n.widget&&(p.Conflicts.fn[e]=t.fn[e],t.fn[v]=l,p.DontConflict||(t.fn[e]=t.fn[v])),p.Conflicts[e]=t[e],t[v]=n.utilities._delegate||c,p.DontConflict||(t[e]=t[v]),n.namespace=e,n.namespaceClean=v,n.guid=0,n.methods._resize&&(p.ResizeHandlers.push({namespace:e,priority:n.priority,callback:n.methods._resize}),p.ResizeHandlers.sort(a)),n.methods._raf&&(p.RAFHandlers.push({namespace:e,priority:n.priority,callback:n.methods._raf}),p.RAFHandlers.sort(a)),n}(n,o),h.then(function(){e(n)}),p.Plugins[n]};var g=null,v=20;return p.$window.on("resize.fs",o),o(),s(),t(function(){p.$body=t("body"),h.resolve(),p.support.nativeMatchMedia=p.support.matchMedia&&!t("html").hasClass("no-matchmedia")}),m.clickTouchStart=m.click+" "+m.touchStart,n(),window.Formstone=p,p}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(t){if(t.touches=[],t.touching=!1,this.on(g.dragStart,v.killEvent),t.swipe&&(t.pan=!0),t.scale&&(t.axis=!1),t.axisX="x"===t.axis,t.axisY="y"===t.axis,e.support.pointer){var i="";!t.axis||t.axisX&&t.axisY?i="none":(t.axisX&&(i+=" pan-y"),t.axisY&&(i+=" pan-x")),h(this,i),this.on(g.pointerDown,t,o)}else this.on(g.touchStart,t,o).on(g.mouseDown,t,r)}function n(t){this.off(g.namespace),h(this,"")}function o(t){t.preventManipulation&&t.preventManipulation();var e=t.data,i=t.originalEvent;if(i.type.match(/(up|end|cancel)$/i))return void a(t);if(i.pointerId){var n=!1;for(var o in e.touches)e.touches[o].id===i.pointerId&&(n=!0,e.touches[o].pageX=i.pageX,e.touches[o].pageY=i.pageY);n||e.touches.push({id:i.pointerId,pageX:i.pageX,pageY:i.pageY})}else e.touches=i.touches;i.type.match(/(down|start)$/i)?r(t):i.type.match(/move$/i)&&s(t)}function r(i){var n=i.data,r="undefined"!==t.type(n.touches)&&n.touches.length?n.touches[0]:null;r&&n.$el.off(g.mouseDown),n.touching||(n.startE=i.originalEvent,n.startX=r?r.pageX:i.pageX,n.startY=r?r.pageY:i.pageY,n.startT=(new Date).getTime(),n.scaleD=1,n.passed=!1),n.$links&&n.$links.off(g.click);var l=d(n.scale?g.scaleStart:g.panStart,i,n.startX,n.startY,n.scaleD,0,0,"","");if(n.scale&&n.touches&&n.touches.length>=2){var c=n.touches;n.pinch={startX:u(c[0].pageX,c[1].pageX),startY:u(c[0].pageY,c[1].pageY),startD:p(c[1].pageX-c[0].pageX,c[1].pageY-c[0].pageY)},l.pageX=n.startX=n.pinch.startX,l.pageY=n.startY=n.pinch.startY}n.touching||(n.touching=!0,n.pan&&!r&&y.on(g.mouseMove,n,s).on(g.mouseUp,n,a),e.support.pointer?y.on([g.pointerMove,g.pointerUp,g.pointerCancel].join(" "),n,o):y.on([g.touchMove,g.touchEnd,g.touchCancel].join(" "),n,o),n.$el.trigger(l))}function s(e){var i=e.data,n="undefined"!==t.type(i.touches)&&i.touches.length?i.touches[0]:null,o=n?n.pageX:e.pageX,r=n?n.pageY:e.pageY,s=o-i.startX,l=r-i.startY,c=s>0?"right":"left",h=l>0?"down":"up",f=Math.abs(s)>b,m=Math.abs(l)>b;if(!i.passed&&i.axis&&(i.axisX&&m||i.axisY&&f))a(e);else{!i.passed&&(!i.axis||i.axis&&i.axisX&&f||i.axisY&&m)&&(i.passed=!0),i.passed&&(v.killEvent(e),v.killEvent(i.startE));var y=!0,w=d(i.scale?g.scale:g.pan,e,o,r,i.scaleD,s,l,c,h);if(i.scale)if(i.touches&&i.touches.length>=2){var x=i.touches;i.pinch.endX=u(x[0].pageX,x[1].pageX),i.pinch.endY=u(x[0].pageY,x[1].pageY),i.pinch.endD=p(x[1].pageX-x[0].pageX,x[1].pageY-x[0].pageY),i.scaleD=i.pinch.endD/i.pinch.startD,w.pageX=i.pinch.endX,w.pageY=i.pinch.endY,w.scale=i.scaleD,w.deltaX=i.pinch.endX-i.pinch.startX,w.deltaY=i.pinch.endY-i.pinch.startY}else i.pan||(y=!1);y&&i.$el.trigger(w)}}function a(e){var i=e.data,n="undefined"!==t.type(i.touches)&&i.touches.length?i.touches[0]:null,o=n?n.pageX:e.pageX,s=n?n.pageY:e.pageY,a=o-i.startX,c=s-i.startY,u=(new Date).getTime(),p=i.scale?g.scaleEnd:g.panEnd,h=a>0?"right":"left",f=c>0?"down":"up",m=Math.abs(a)>1,x=Math.abs(c)>1;if(i.swipe&&Math.abs(a)>b&&u-i.startT<w&&(p=g.swipe),i.axis&&(i.axisX&&x||i.axisY&&m)||m||x){i.$links=i.$el.find("a");for(var C=0,I=i.$links.length;C<I;C++)l(i.$links.eq(C),i)}var _=d(p,e,o,s,i.scaleD,a,c,h,f);y.off([g.touchMove,g.touchEnd,g.touchCancel,g.mouseMove,g.mouseUp,g.pointerMove,g.pointerUp,g.pointerCancel].join(" ")),i.$el.trigger(_),i.touches=[],i.scale,n&&(i.touchTimer=v.startTimer(i.touchTimer,5,function(){i.$el.on(g.mouseDown,i,r)})),i.touching=!1}function l(e,i){e.on(g.click,i,c);var n=t._data(e[0],"events").click;n.unshift(n.pop())}function c(t){v.killEvent(t,!0),t.data.$links.off(g.click)}function d(e,i,n,o,r,s,a,l,c){return t.Event(e,{originalEvent:i,bubbles:!0,pageX:n,pageY:o,scale:r,deltaX:s,deltaY:a,directionX:l,directionY:c})}function u(t,e){return(t+e)/2}function p(t,e){return Math.sqrt(t*t+e*e)}function h(t,e){t.css({"-ms-touch-action":e,"touch-action":e})}var f=!e.window.PointerEvent,m=e.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:i,_destruct:n},events:{pointerDown:f?"MSPointerDown":"pointerdown",pointerUp:f?"MSPointerUp":"pointerup",pointerMove:f?"MSPointerMove":"pointermove",pointerCancel:f?"MSPointerCancel":"pointercancel"}}),g=m.events,v=m.functions,y=e.$window,b=10,w=50;g.pan="pan",g.panStart="panstart",g.panEnd="panend",g.scale="scale",g.scaleStart="scalestart",g.scaleEnd="scaleend",g.swipe="swipe"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(t,i){if(i){t.$target=this.find(t.target),t.$check=t.target?t.$target:this,t.callback=i,t.styles=a(t.$check),t.timer=null;var n=t.$check.css(e.transition+"-duration"),r=parseFloat(n);e.support.transition&&n&&r?this.on(d.transitionEnd,t,o):t.timer=u.startTimer(t.timer,50,function(){s(t)},!0)}}function n(t){u.clearTimer(t.timer,!0),this.off(d.namespace)}function o(e){e.stopPropagation(),e.preventDefault();var i=e.data,n=e.originalEvent,o=i.target?i.$target:i.$el;i.property&&n.propertyName!==i.property||!t(n.target).is(o)||r(i)}function r(t){t.always||t.$el[c.namespaceClean]("destroy"),t.callback.apply(t.$el)}function s(t){var e=a(t.$check);l(t.styles,e)||r(t),t.styles=e}function a(e){var i,n,o,r={};if(e instanceof t&&(e=e[0]),p.getComputedStyle){i=p.getComputedStyle(e,null);for(var s=0,a=i.length;s<a;s++)n=i[s],o=i.getPropertyValue(n),r[n]=o}else if(e.currentStyle){i=e.currentStyle;for(n in i)i[n]&&(r[n]=i[n])}return r}function l(e,i){if(t.type(e)!==t.type(i))return!1;for(var n in e){if(!e.hasOwnProperty(n))return!1;if(!e.hasOwnProperty(n)||!i.hasOwnProperty(n)||e[n]!==i[n])return!1}return!0}var c=e.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:i,_destruct:n,resolve:r}}),d=c.events,u=c.functions,p=e.window}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(e){e=e||{};for(var i in b)b.hasOwnProperty(i)&&(u[i]=e[i]?t.merge(e[i],u[i]):u[i]);u=t.extend(u,e),u.minWidth.sort(m.sortDesc),u.maxWidth.sort(m.sortAsc),u.minHeight.sort(m.sortDesc),u.maxHeight.sort(m.sortAsc);for(var n in b)if(b.hasOwnProperty(n)){y[n]={};for(var o in u[n])if(u[n].hasOwnProperty(o)){var r=window.matchMedia("("+b[n]+": "+(u[n][o]===1/0?1e5:u[n][o])+u.unit+")");r.addListener(s),y[n][u[n][o]]=r}}s()}function n(t,e,i){var n=f.matchMedia(e),o=l(n.media);v[o]||(v[o]={mq:n,active:!0,enter:{},leave:{}},v[o].mq.addListener(a));for(var r in i)i.hasOwnProperty(r)&&v[o].hasOwnProperty(r)&&(v[o][r][t]=i[r]);var s=v[o],c=n.matches;c&&s[p.enter].hasOwnProperty(t)?(s[p.enter][t].apply(n),s.active=!0):!c&&s[p.leave].hasOwnProperty(t)&&(s[p.leave][t].apply(n),s.active=!1)}function o(t,e){if(t)if(e){var i=l(e);v[i]&&(v[i].enter[t]&&delete v[i].enter[t],v[i].leave[t]&&delete v[i].leave[t])}else for(var n in v)v.hasOwnProperty(n)&&(v[n].enter[t]&&delete v[n].enter[t],v[n].leave[t]&&delete v[n].leave[t])}function r(){g={unit:u.unit};for(var t in b)if(b.hasOwnProperty(t))for(var i in y[t])if(y[t].hasOwnProperty(i)){var n="Infinity"===i?1/0:parseInt(i,10),o=b[t].indexOf("width")>-1?e.fallbackWidth:e.fallbackHeight,r=t.indexOf("max")>-1;e.support.nativeMatchMedia?y[t][i].matches&&(r?(!g[t]||n<g[t])&&(g[t]=n):(!g[t]||n>g[t])&&(g[t]=n)):r?!g[t]&&n>o&&(g[t]=n):(!g[t]&&0!==g[t]||n>g[t]&&n<o)&&(g[t]=n)}}function s(){r(),h.trigger(p.mqChange,[g])}function a(t){var e=l(t.media),i=v[e],n=t.matches,o=n?p.enter:p.leave;if(i&&(i.active||!i.active&&n)){for(var r in i[o])i[o].hasOwnProperty(r)&&i[o][r].apply(i.mq);i.active=!0}}function l(t){return t.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}function c(){return g}var d=e.Plugin("mediaquery",{utilities:{_initialize:i,state:c,bind:n,unbind:o},events:{mqChange:"mqchange"}}),u={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},p=t.extend(d.events,{enter:"enter",leave:"leave"}),h=e.$window,f=h[0],m=d.functions,g=null,v=[],y={},b={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(e){e.enabled=!1,e.active=!1,e.classes=t.extend(!0,{},p,e.classes),e.target=this.data(u+"-target"),e.$target=t(e.target).addClass(e.classes.raw.target),e.mq="(max-width:"+(e.maxWidth===1/0?"100000px":e.maxWidth)+")";var i=this.data(u+"-linked");e.linked=!!i&&"[data-"+u+'-linked="'+i+'"]';var n=this.data(u+"-group");e.group=!!n&&"[data-"+u+'-group="'+n+'"]',e.$swaps=t().add(this).add(e.$target),this.on(h.click+e.dotGuid,e,c)}function n(e){e.collapse||!e.group||t(e.group).filter("[data-"+u+"-active]").length||t(e.group).eq(0).attr("data-"+u+"-active","true"),e.onEnable=this.data(u+"-active")||!1,t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){a.call(e.$el,e,!0)},leave:function(){l.call(e.$el,e,!0)}})}function o(e){t.fsMediaquery("unbind",e.rawGuid),e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")).off(h.namespace)}function r(e,i){if(e.enabled&&!e.active){e.group&&!i&&t(e.group).not(e.$el).not(e.linked)[d.namespaceClean]("deactivate",!0);var n=e.group?t(e.group).index(e.$el):null;e.$swaps.addClass(e.classes.raw.active),i||e.linked&&t(e.linked).not(e.$el)[d.namespaceClean]("activate",!0),this.trigger(h.activate,[n]),e.active=!0}}function s(e,i){e.enabled&&e.active&&(e.$swaps.removeClass(e.classes.raw.active),i||e.linked&&t(e.linked).not(e.$el)[d.namespaceClean]("deactivate",!0),this.trigger(h.deactivate),e.active=!1)}function a(e,i){e.enabled||(e.enabled=!0,e.$swaps.addClass(e.classes.raw.enabled),i||t(e.linked).not(e.$el)[d.namespaceClean]("enable"),this.trigger(h.enable),e.onEnable?(e.active=!1,r.call(this,e)):(e.active=!0,s.call(this,e)))}function l(e,i){e.enabled&&(e.enabled=!1,e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")),i||t(e.linked).not(e.$el)[d.namespaceClean]("disable"),this.trigger(h.disable))}function c(t){f.killEvent(t);var e=t.data;e.active&&e.collapse?s.call(e.$el,e):r.call(e.$el,e)}var d=e.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:i,_postConstruct:n,_destruct:o,activate:r,deactivate:s,enable:a,disable:l}}),u=d.namespace,p=d.classes,h=d.events,f=d.functions}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(e){var i=this.closest("label"),n=i.length?i.eq(0):t("label[for="+this.attr("id")+"]"),o=[m.base,e.theme,e.customClass].join(" "),r="";e.radio="radio"===this.attr("type"),e.group=this.attr("name"),r+='<div class="'+m.marker+'" aria-hidden="true">',r+='<div class="'+m.flag+'"></div>',e.toggle&&(o+=" "+m.toggle,r+='<span class="'+[m.state,m.state_on].join(" ")+'">'+e.labels.on+"</span>",r+='<span class="'+[m.state,m.state_off].join(" ")+'">'+e.labels.off+"</span>"),e.radio&&(o+=" "+m.radio),r+="</div>",e.$placeholder=t('<span class="'+m.element_placeholder+'"></span>'),this.before(e.$placeholder),n.length?n.addClass(m.label).wrap('<div class="'+o+'"></div>').before(r):this.before('<div class=" '+o+'">'+r+"</div>"),e.$checkbox=n.length?n.parents(f.base):this.prev(f.base),e.$marker=e.$checkbox.find(f.marker),e.$states=e.$checkbox.find(f.state),e.$label=n,this.is(":checked")&&e.$checkbox.addClass(m.checked),this.is(":disabled")&&e.$checkbox.addClass(m.disabled),this.appendTo(e.$marker),this.on(g.focus,e,u).on(g.blur,e,p).on(g.change,e,l).on(g.click,e,a).on(g.deselect,e,d),e.$checkbox.on(g.click,e,a)}function n(t){t.$checkbox.off(g.namespace),t.$marker.remove(),t.$states.remove(),t.$label.unwrap().removeClass(m.label),t.$placeholder.before(this),t.$placeholder.remove(),this.off(g.namespace)}function o(t){this.prop("disabled",!1),t.$checkbox.removeClass(m.disabled)}function r(t){this.prop("disabled",!0),t.$checkbox.addClass(m.disabled)}function s(t){var e=t.$el.is(":disabled"),i=t.$el.is(":checked");e||(i?c({data:t}):d({data:t}))}function a(e){e.stopPropagation();var i=e.data;t(e.target).is(i.$el)||(e.preventDefault(),i.$el.trigger("click"))}function l(t){var e=t.data,i=e.$el.is(":disabled"),n=e.$el.is(":checked");i||(e.radio?n&&c(t):n?c(t):d(t))}function c(e){e.data.radio&&t('input[name="'+e.data.group+'"]').not(e.data.$el).trigger("deselect"),e.data.$el.trigger(g.focus),e.data.$checkbox.addClass(m.checked)}function d(t){t.data.$el.trigger(g.focus),t.data.$checkbox.removeClass(m.checked)}function u(t){t.data.$checkbox.addClass(m.focus)}function p(t){t.data.$checkbox.removeClass(m.focus)}var h=e.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"},theme:"fs-light"},classes:["element_placeholder","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:i,_destruct:n,enable:o,disable:r,update:s},events:{deselect:"deselect"}}),f=h.classes,m=f.raw,g=h.events;h.functions}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./touch"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(t){V.iterate.call(X,l)}function n(){X=t(B.base)}function o(i){var o;i.didPan=!1,i.carouselClasses=[Y.base,i.theme,i.customClass,i.rtl?Y.rtl:Y.ltr],i.maxWidth=i.maxWidth===1/0?"100000px":i.maxWidth,i.mq="(min-width:"+i.minWidth+") and (max-width:"+i.maxWidth+")",i.customControls="object"===t.type(i.controls)&&i.controls.previous&&i.controls.next,i.customPagination="string"===t.type(i.pagination),i.id=this.attr("id"),i.id?i.ariaId=i.id:(i.ariaId=i.rawGuid,this.attr("id",i.ariaId)),e.support.transform||(i.useMargin=!0);var r="",l="",d=[Y.control,Y.control_previous].join(" "),u=[Y.control,Y.control_next].join(" ");i.controls&&!i.customControls&&(r+='<div class="'+Y.controls+'" aria-label="carousel controls" aria-controls="'+i.ariaId+'">',r+='<button type="button" class="'+d+'" aria-label="'+i.labels.previous+'">'+i.labels.previous+"</button>",r+='<button type="button" class="'+u+'" aria-label="'+i.labels.next+'">'+i.labels.next+"</button>",r+="</div>"),i.pagination&&!i.customPagination&&(l+='<div class="'+Y.pagination+'" aria-label="carousel pagination" aria-controls="'+i.ariaId+'" role="navigation">',l+="</div>"),i.autoHeight&&i.carouselClasses.push(Y.auto_height),i.contained&&i.carouselClasses.push(Y.contained),i.single&&i.carouselClasses.push(Y.single),this.addClass(i.carouselClasses.join(" ")).wrapInner('<div class="'+Y.wrapper+'" aria-live="polite"><div class="'+Y.container+'"><div class="'+Y.canister+'"></div></div></div>').append(r).wrapInner('<div class="'+Y.viewport+'"></div>').append(l),i.$viewport=this.find(B.viewport).eq(0),i.$container=this.find(B.container).eq(0),i.$canister=this.find(B.canister).eq(0),i.$pagination=this.find(B.pagination).eq(0),i.$controlPrevious=i.$controlNext=t(""),i.customControls?(i.$controls=t(i.controls.container).addClass([Y.controls,Y.controls_custom].join(" ")),i.$controlPrevious=t(i.controls.previous).addClass(d),i.$controlNext=t(i.controls.next).addClass(u)):(i.$controls=this.find(B.controls).eq(0),i.$controlPrevious=i.$controls.find(B.control_previous),i.$controlNext=i.$controls.find(B.control_next)),i.$controlItems=i.$controlPrevious.add(i.$controlNext),i.customPagination&&(i.$pagination=t(i.pagination).addClass([Y.pagination])),i.$paginationItems=i.$pagination.find(B.page),i.index=0,i.enabled=!1,i.leftPosition=0,i.autoTimer=null,i.resizeTimer=null;var p=this.data(R+"-linked");i.linked=!!p&&"[data-"+R+'-linked="'+p+'"]',i.linked&&(i.paged=!0);var h=this.data(R+"-controller-for")||"";if(i.$subordinate=t(h),i.$subordinate.length&&(i.controller=!0),"object"===t.type(i.show)){var f=i.show,m=[],g=[];for(o in f)f.hasOwnProperty(o)&&g.push(o);g.sort(V.sortAsc);for(o in g)g.hasOwnProperty(o)&&m.push({width:parseInt(g[o]),count:f[g[o]],mq:window.matchMedia("(min-width: "+parseInt(g[o])+"px)")});i.show=m}c(i),t.fsMediaquery("bind",i.rawGuid,i.mq,{enter:function(){a.call(i.$el,i)},leave:function(){s.call(i.$el,i)}}),n(),i.carouselClasses.push(Y.enabled),i.carouselClasses.push(Y.animated)}function r(e){V.clearTimer(e.autoTimer),V.clearTimer(e.resizeTimer),s.call(this,e),t.fsMediaquery("unbind",e.rawGuid),e.id!==e.ariaId&&this.removeAttr("id"),e.$controlItems.removeClass([B.control,Y.control_previous,B.control_next,B.visible].join(" ")).off(N.namespace),e.$images.off(N.namespace),e.$canister.fsTouch("destroy"),e.$items.removeClass([Y.item,Y.visible,B.item_previous,B.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&e.$controls.removeClass([Y.controls,Y.controls_custom,Y.visible].join(" ")),e.pagination&&!e.customPagination&&e.$pagination.remove(),e.customPagination&&e.$pagination.html("").removeClass([Y.pagination,Y.visible].join(" ")),this.removeClass(e.carouselClasses.join(" ")),n()}function s(t){t.enabled&&(V.clearTimer(t.autoTimer),t.enabled=!1,t.$subordinate.off(N.update),this.removeClass([Y.enabled,Y.animated].join(" ")).off(N.namespace),t.$canister.fsTouch("destroy").off(N.namespace).attr("style","").css(Q,"none"),t.$items.css({width:"",height:""}).removeClass([Y.visible,B.item_previous,B.item_next].join(" ")),t.$images.off(N.namespace),t.$controlItems.off(N.namespace),t.$pagination.html("").off(N.namespace),x(t),t.useMargin?t.$canister.css({marginLeft:""}):t.$canister.css(U,""),t.index=0)}function a(t){t.enabled||(t.enabled=!0,this.addClass(Y.enabled),t.$controlItems.on(N.click,t,y),t.$pagination.on(N.click,B.page,t,b),t.$items.on(N.click,t,L),t.$subordinate.on(N.update,t,j),j({data:t},0),t.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(N.panStart,t,T).on(N.pan,t,k).on(N.panEnd,t,H).on(N.swipe,t,S).on(N.focusIn,t,O).css(Q,""),c(t),t.$images.on(N.load,t,g),t.autoAdvance&&(t.autoTimer=V.startTimer(t.autoTimer,t.autoTime,function(){v(t)},!0)),l.call(this,t))}function l(t){if(t.enabled){var e,i,n,o,r,s,a,l,c,d;if(t.count=t.$items.length,t.count<1)return x(t),void t.$canister.css({height:""});for(this.removeClass(Y.animated),t.containerWidth=t.$container.outerWidth(!1),t.visible=_(t),t.perPage=t.paged?1:t.visible,t.itemMarginLeft=parseInt(t.$items.eq(0).css("marginLeft")),t.itemMarginRight=parseInt(t.$items.eq(0).css("marginRight")),t.itemMargin=t.itemMarginLeft+t.itemMarginRight,isNaN(t.itemMargin)&&(t.itemMargin=0),t.itemWidth=(t.containerWidth-t.itemMargin*(t.visible-1))/t.visible,t.itemHeight=0,t.pageWidth=t.paged?t.itemWidth:t.containerWidth,t.pageCount=Math.ceil(t.count/t.perPage),t.canisterWidth=t.single?t.containerWidth:(t.pageWidth+t.itemMargin)*t.pageCount,t.$canister.css({width:t.matchWidth?t.canisterWidth:1e6,height:""}),t.$items.css({width:t.matchWidth?t.itemWidth:"",height:""}).removeClass([Y.visible,Y.item_previous,Y.item_next].join(" ")),t.pages=[],i=0,n=0;i<t.count;i+=t.perPage){for(s=t.$items.slice(i,i+t.perPage),l=0,c=0,s.length<t.perPage&&(s=0===i?t.$items:t.$items.slice(t.$items.length-t.perPage)),a=t.rtl?s.eq(s.length-1):s.eq(0),d=a.position().left,o=0;o<s.length;o++)r=s.eq(o).outerWidth(!0),e=s.eq(o).outerHeight(),l+=r,e>c&&(c=e);t.pages.push({left:t.rtl?d-(t.canisterWidth-l):d,height:c,width:l,$items:s}),c>t.itemHeight&&(t.itemHeight=c),n++}t.paged&&(t.pageCount-=t.count%t.visible),t.pageCount<=0&&(t.pageCount=1),t.maxMove=-t.pages[t.pageCount-1].left,t.autoHeight?t.$canister.css({height:t.pages[0].height}):t.matchHeight&&t.$items.css({height:t.itemHeight});var u="";for(i=0;i<t.pageCount;i++)u+='<button type="button" class="'+Y.page+'">'+(i+1)+"</button>";t.$pagination.html(u),t.pageCount<=1?x(t):C(t),t.$paginationItems=t.$pagination.find(B.page),w(t,t.index,!1),setTimeout(function(){t.$el.addClass(Y.animated)},5)}}function c(t){t.$items=t.$canister.children().not(":hidden").addClass(Y.item),t.$images=t.$canister.find("img"),t.totalImages=t.$images.length}function d(t){t.enabled&&u.call(this,t,!1)}function u(t,e){t.$images.off(N.namespace),!1!==e&&t.$canister.html(e),t.index=0,c(t),l.call(this,t)}function p(t,e,i,n,o){t.enabled&&(V.clearTimer(t.autoTimer),void 0===o&&(o=!0),w(t,e-1,o,i,n))}function h(t){var e=t.index-1;t.infinite&&e<0&&(e=t.pageCount-1),w(t,e)}function f(t){var e=t.index+1;t.infinite&&e>=t.pageCount&&(e=0),w(t,e)}function m(t,e,i,n,o){if(t.enabled){V.clearTimer(t.autoTimer);var r=t.$items.eq(e-1);void 0===o&&(o=!0);for(var s=0;s<t.pageCount;s++)if(t.pages[s].$items.is(r)){w(t,s,o,i,n);break}}}function g(t){var e=t.data;e.resizeTimer=V.startTimer(e.resizeTimer,20,function(){l.call(e.$el,e)})}function v(t){var e=t.index+1;e>=t.pageCount&&(e=0),w(t,e)}function y(e){V.killEvent(e);var i=e.data,n=i.index+(t(e.currentTarget).hasClass(Y.control_next)?1:-1);V.clearTimer(i.autoTimer),w(i,n)}function b(e){V.killEvent(e);var i=e.data,n=i.$paginationItems.index(t(e.currentTarget));V.clearTimer(i.autoTimer),w(i,n)}function w(e,i,n,o,r){if(i<0&&(i=e.infinite?e.pageCount-1:0),i>=e.pageCount&&(i=e.infinite?0:e.pageCount-1),!(e.count<1)){e.pages[i]&&(e.leftPosition=-e.pages[i].left),e.leftPosition=F(e,e.leftPosition),e.useMargin?e.$canister.css({marginLeft:e.leftPosition}):!1===n?(e.$canister.css(Q,"none").css(U,"translateX("+e.leftPosition+"px)"),setTimeout(function(){e.$canister.css(Q,"")},5)):e.$canister.css(U,"translateX("+e.leftPosition+"px)"),e.$items.removeClass([Y.visible,Y.item_previous,Y.item_next].join(" "))
;for(var s=0,a=e.pages.length;s<a;s++)s===i?e.pages[s].$items.addClass(Y.visible).attr("aria-hidden","false"):e.pages[s].$items.not(e.pages[i].$items).addClass(s<i?Y.item_previous:Y.item_next).attr("aria-hidden","true");e.autoHeight&&e.$canister.css({height:e.pages[i].height}),!1!==n&&!0!==o&&i!==e.index&&(e.infinite||i>-1&&i<e.pageCount)&&e.$el.trigger(N.update,[i]),e.index=i,e.linked&&!0!==r&&t(e.linked).not(e.$el)[D]("jumpPage",e.index+1,!0,!0),I(e)}}function x(t){t.$controls.removeClass(Y.visible),t.$controlItems.removeClass(Y.visible),t.$pagination.removeClass(Y.visible)}function C(t){t.$controls.addClass(Y.visible),t.$controlItems.addClass(Y.visible),t.$pagination.addClass(Y.visible)}function I(t){t.$paginationItems.removeClass(Y.active).eq(t.index).addClass(Y.active),t.infinite?t.$controlItems.addClass(Y.visible):t.pageCount<1?t.$controlItems.removeClass(Y.visible):(t.$controlItems.addClass(Y.visible),t.index<=0?t.$controlPrevious.removeClass(Y.visible):(t.index>=t.pageCount-1||!t.single&&t.leftPosition===t.maxMove)&&t.$controlNext.removeClass(Y.visible))}function _(i){var n=1;if(i.single)return n;if("array"===t.type(i.show))for(var o in i.show)i.show.hasOwnProperty(o)&&(e.support.nativeMatchMedia?i.show[o].mq.matches&&(n=i.show[o].count):i.show[o].width<e.fallbackWidth&&(n=i.show[o].count));else n=i.show;return i.fill&&i.count<n?i.count:n}function T(e,i){var n=e.data;if(V.clearTimer(n.autoTimer),!n.single){if(n.useMargin)n.leftPosition=parseInt(n.$canister.css("marginLeft"));else{var o=n.$canister.css(U).split(",");n.leftPosition=parseInt(o[4])}if(n.$canister.css(Q,"none"),k(e),n.linked&&!0!==i){var r=e.deltaX/n.pageWidth;n.rtl&&(r*=-1),t(n.linked).not(n.$el)[D]("panStart",r)}}n.isTouching=!0}function k(e,i){var n=e.data;if(!n.single&&(n.touchLeft=F(n,n.leftPosition+e.deltaX),n.useMargin?n.$canister.css({marginLeft:n.touchLeft}):n.$canister.css(U,"translateX("+n.touchLeft+"px)"),n.linked&&!0!==i)){var o=e.deltaX/n.pageWidth;n.rtl&&(o*=-1),t(n.linked).not(n.$el)[D]("pan",o)}}function H(e,i){var n=e.data,o=Math.abs(e.deltaX),r=q(n,e),s=!1;if(n.didPan=!1,!n.single){var a,l,c=Math.abs(n.touchLeft),d=!1,u=n.rtl?"right":"left";if(e.directionX===u)for(a=0,l=n.pages.length;a<l;a++)d=n.pages[a],c>Math.abs(d.left)+20&&(s=a+1);else for(a=n.pages.length-1,l=0;a>=l;a--)d=n.pages[a],c<Math.abs(d.left)&&(s=a-1)}!1===s&&(s=o<50?n.index:n.index+r),s!==n.index&&(n.didPan=!0),n.linked&&!0!==i&&t(n.linked).not(n.$el)[D]("panEnd",s),P(n,s)}function E(t,e){if(V.clearTimer(t.autoTimer),!t.single){if(t.rtl&&(e*=-1),t.useMargin)t.leftPosition=parseInt(t.$canister.css("marginLeft"));else{var i=t.$canister.css(U).split(",");t.leftPosition=parseInt(i[4])}t.$canister.css(Q,"none");k({data:t,deltaX:t.pageWidth*e},!0)}t.isTouching=!0}function W(t,e){if(!t.single){t.rtl&&(e*=-1);var i=t.pageWidth*e;t.touchLeft=F(t,t.leftPosition+i),t.useMargin?t.$canister.css({marginLeft:t.touchLeft}):t.$canister.css(U,"translateX("+t.touchLeft+"px)")}}function z(t,e){P(t,e,!0)}function S(e,i){var n=e.data,o=q(n,e),r=n.index+o;n.linked&&!0!==i&&t(n.linked).not(n.$el)[D]("swipe",e.directionX),P(n,r)}function M(t,e){S({data:t,directionX:e},!0)}function P(t,e){t.$canister.css(Q,""),w(t,e),t.isTouching=!1}function L(e){var i=e.data,n=t(e.currentTarget);if(!i.didPan&&(n.trigger(N.itemClick),i.controller)){var o=i.$items.index(n);j(e,o),i.$subordinate[D]("jumpPage",o+1,!0)}}function O(e){var i=e.data;if(i.enabled){V.clearTimer(i.autoTimer),i.$container.scrollLeft(0);var n,o=t(e.target);o.hasClass(Y.item)?n=o:o.parents(B.item).length&&(n=o.parents(B.item).eq(0));for(var r=0;r<i.pageCount;r++)if(i.pages[r].$items.is(n)){w(i,r);break}}}function j(t,e){var i=t.data;if(i.controller){var n=i.$items.eq(e);i.$items.removeClass(Y.active),n.addClass(Y.active);for(var o=0;o<i.pageCount;o++)if(i.pages[o].$items.is(n)){w(i,o,!0,!0);break}}}function F(t,e){return isNaN(e)?e=0:t.rtl?(e>t.maxMove&&(e=t.maxMove),e<0&&(e=0)):(e<t.maxMove&&(e=t.maxMove),e>0&&(e=0)),e}function q(t,e){return t.rtl?"right"===e.directionX?1:-1:"left"===e.directionX?1:-1}var A=e.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8e3,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous"},matchHeight:!1,matchWidth:!0,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,rtl:!1,show:1,single:!1,theme:"fs-light",useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{itemClick:"itemClick",update:"update"},methods:{_construct:o,_destruct:r,_resize:i,disable:s,enable:a,jump:p,previous:h,next:f,jumpPage:p,previousPage:h,nextPage:f,jumpItem:m,reset:d,resize:l,update:u,panStart:E,pan:W,panEnd:z,swipe:M}}),R=A.namespace,D=A.namespaceClean,B=A.classes,Y=B.raw,N=A.events,V=A.functions,X=[],U=e.transform,Q=e.transition}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(){o(),M.on("scroll",o)}function n(){z.iterate.call(L,x),z.iterate.call(O,I),z.iterate.call(O,_)}function o(){P=M.scrollTop()+e.windowHeight,P<0&&(P=0),z.iterate.call(O,_)}function r(){L=t(H.base),O=t(H.lazy),z.iterate.call(O,I)}function s(e){e.youTubeGuid=0,e.$container=t('<div class="'+E.container+'"></div>').appendTo(this),e.thisClasses=[E.base,e.customClass],e.visible=!0,e.lazy&&(e.visible=!1,e.thisClasses.push(E.lazy)),this.addClass(e.thisClasses.join(" ")),r(),e.lazy?(I(e),_(e)):l(e)}function a(t){t.$container.remove(),this.removeClass(t.thisClasses.join(" ")).off(W.namespace),r()}function l(t){if(t.visible){var e=t.source;t.source=null,c(t,e,!0)}}function c(e,i,n){if(i!==e.source&&e.visible){if(e.source=i,e.responsive=!1,e.isYouTube=!1,"object"===t.type(i)&&"string"===t.type(i.video)){var o=i.video.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);o&&o.length>=1&&(e.isYouTube=!0,e.videoId=o[1])}var r=!e.isYouTube&&"object"===t.type(i)&&(i.hasOwnProperty("mp4")||i.hasOwnProperty("ogg")||i.hasOwnProperty("webm"));if(e.video=e.isYouTube||r,e.playing=!1,e.isYouTube)e.playerReady=!1,e.posterLoaded=!1,h(e,i,n);else if("object"===t.type(i)&&i.hasOwnProperty("poster"))p(e,i,n);else{var s=i;if("object"===t.type(i)){var a,l=[],c=[];for(a in i)i.hasOwnProperty(a)&&c.push(a);c.sort(z.sortAsc);for(a in c)c.hasOwnProperty(a)&&l.push({width:parseInt(c[a]),url:i[c[a]],mq:S.matchMedia("(min-width: "+parseInt(c[a])+"px)")});e.responsive=!0,e.sources=l,s=d(e)}u(e,s,!1,n)}}else e.$el.trigger(W.loaded)}function d(t){var i=t.source;if(t.responsive){i=t.sources[0].url;for(var n in t.sources)t.sources.hasOwnProperty(n)&&(e.support.nativeMatchMedia?t.sources[n].mq.matches&&(i=t.sources[n].url):t.sources[n].width<e.fallbackWidth&&(i=t.sources[n].url))}return i}function u(e,i,n,o){var r=[E.media,E.image,!0!==o?E.animated:""].join(" "),s=t('<div class="'+r+'" aria-hidden="true"><img alt=""></div>'),a=s.find("img"),l=i;a.one(W.load,function(){j&&s.addClass(E.native).css({backgroundImage:"url('"+l+"')"}),s.fsTransition({property:"opacity"},function(){n||f(e)}).css({opacity:1}),C(e),n&&!o||e.$el.trigger(W.loaded)}).one(W.error,e,m).attr("src",l),e.responsive&&s.addClass(E.responsive),e.$container.append(s),(a[0].complete||4===a[0].readyState)&&a.trigger(W.load),e.currentSource=l}function p(i,n,o){if(i.source&&i.source.poster&&(u(i,i.source.poster,!0,!0),o=!1),!e.isMobile){var r=[E.media,E.video,!0!==o?E.animated:""].join(" "),s='<div class="'+r+'" aria-hidden="true">';s+="<video",i.loop&&(s+=" loop"),i.mute&&(s+=" muted"),s+=">",i.source.webm&&(s+='<source src="'+i.source.webm+'" type="video/webm" />'),i.source.mp4&&(s+='<source src="'+i.source.mp4+'" type="video/mp4" />'),i.source.ogg&&(s+='<source src="'+i.source.ogg+'" type="video/ogg" />'),s+="</video>",s+="</div>";var a=t(s);a.find("video").one(W.loadedMetaData,function(t){a.fsTransition({property:"opacity"},function(){f(i)}).css({opacity:1}),C(i),i.$el.trigger(W.loaded),i.autoPlay&&y(i)}),i.$container.append(a)}}function h(i,n,o){if(!i.videoId){var r=n.match(/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/);i.videoId=r[1]}if(i.posterLoaded||(i.source.poster||(i.source.poster="//img.youtube.com/vi/"+i.videoId+"/0.jpg"),i.posterLoaded=!0,u(i,i.source.poster,!0,o),o=!1),!e.isMobile)if(t("script[src*='youtube.com/iframe_api']").length||t("head").append('<script src="//www.youtube.com/iframe_api"></script>'),F){var s=i.guid+"_"+i.youTubeGuid++,a=[E.media,E.embed,!0!==o?E.animated:""].join(" "),l='<div class="'+a+'" aria-hidden="true">';l+='<div id="'+s+'"></div>',l+="</div>";var c=t(l),d=t.extend(!0,{},{controls:0,rel:0,showinfo:0,wmode:"transparent",enablejsapi:1,version:3,playerapiid:s,loop:i.loop?1:0,autoplay:1,origin:S.location.protocol+"//"+S.location.host},i.youtubeOptions);d.autoplay=1,i.$container.append(c),i.player&&(i.oldPlayer=i.player,i.player=null),i.player=new S.YT.Player(s,{videoId:i.videoId,playerVars:d,events:{onReady:function(t){i.playerReady=!0,i.mute&&i.player.mute(),i.autoPlay||i.player.pauseVideo()},onStateChange:function(t){i.playing||t.data!==S.YT.PlayerState.PLAYING?i.loop&&i.playing&&t.data===S.YT.PlayerState.ENDED&&i.player.playVideo():(i.playing=!0,c.fsTransition({property:"opacity"},function(){f(i)}).css({opacity:1}),C(i),i.$el.trigger(W.loaded)),i.$el.find(H.embed).addClass(E.ready)},onPlaybackQualityChange:function(t){},onPlaybackRateChange:function(t){},onError:function(t){m({data:i})},onApiChange:function(t){}}}),C(i)}else q.push({data:i,source:n})}function f(t){var e=t.$container.find(H.media);e.length>=1&&(e.not(":last").remove(),t.oldPlayer=null)}function m(t){t.data.$el.trigger(W.error)}function g(t){var e=t.$container.find(H.media);e.length>=1&&e.fsTransition({property:"opacity"},function(){e.remove(),delete t.source}).css({opacity:0})}function v(t){if(t.video&&t.playing){if(t.isYouTube)t.playerReady?t.player.pauseVideo():t.autoPlay=!1;else{var e=t.$container.find("video");e.length&&e[0].pause()}t.playing=!1}}function y(t){if(t.video&&!t.playing)if(t.isYouTube)t.playerReady?t.player.playVideo():t.autoPlay=!0;else{var e=t.$container.find("video");e.length&&e[0].play(),t.playing=!0}}function b(t){if(t.video)if(t.isYouTube&&t.playerReady)t.player.mute();else{var e=t.$container.find("video");e.length&&(e[0].muted=!0)}t.mute=!0}function w(t){if(t.video){if(t.isYouTube&&t.playerReady)t.player.unMute();else{var e=t.$container.find("video");e.length&&(e[0].muted=!1)}t.playing=!0}t.mute=!1}function x(t){if(t.visible)if(t.responsive){var e=d(t);e!==t.currentSource?u(t,e,!1,!0):C(t)}else C(t)}function C(t){for(var e=t.$container.find(H.media),i=0,n=e.length;i<n;i++){var o=e.eq(i),r=t.isYouTube?"iframe":o.find("video").length?"video":"img",s=o.find(r);if(s.length&&("img"!==r||!j)){var a=t.$el.outerWidth(),l=t.$el.outerHeight(),c=T(t,s);t.width=c.width,t.height=c.height,t.left=0,t.top=0;var d=t.isYouTube?t.embedRatio:t.width/t.height;t.height=l,t.width=t.height*d,t.width<a&&(t.width=a,t.height=t.width/d),t.left=-(t.width-a)/2,t.top=-(t.height-l)/2,o.css({height:t.height,width:t.width,left:t.left,top:t.top})}}}function I(t){t.scrollTop=t.$el.offset().top}function _(t){!t.visible&&t.scrollTop<P+t.lazyEdge&&(t.visible=!0,l(t))}function T(e,i){if(e.isYouTube)return{height:500,width:500/e.embedRatio};if(i.is("img")){var n=i[0];if("undefined"!==t.type(n.naturalHeight))return{height:n.naturalHeight,width:n.naturalWidth};var o=new Image;return o.src=n.src,{height:o.height,width:o.width}}return{height:i[0].videoHeight,width:i[0].videoWidth}}var k=e.Plugin("background",{widget:!0,defaults:{autoPlay:!0,customClass:"",embedRatio:1.777777,lazy:!1,lazyEdge:100,loop:!0,mute:!0,source:null,youtubeOptions:{}},classes:["container","media","animated","responsive","native","fixed","ready","lazy"],events:{loaded:"loaded",ready:"ready",loadedMetaData:"loadedmetadata"},methods:{_setup:i,_construct:s,_destruct:a,_resize:n,play:y,pause:v,mute:b,unmute:w,resize:C,load:c,unload:g}}),H=k.classes,E=H.raw,W=k.events,z=k.functions,S=e.window,M=e.$window,P=0,L=[],O=[],j="backgroundSize"in e.document.documentElement.style,F=!1,q=[];S.onYouTubeIframeAPIReady=function(){F=!0;for(var t in q)q.hasOwnProperty(t)&&h(q[t].data,q[t].source);q=[]}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(){x=e.$body}function n(t){var e=parseFloat(this.attr("min")),i=parseFloat(this.attr("max"));t.min=!(!e&&0!==e)&&e,t.max=!(!i&&0!==i)&&i,t.step=parseFloat(this.attr("step"))||1,t.timer=null,t.digits=f(t.step),t.disabled=this.is(":disabled")||this.is("[readonly]");var n="";n+='<button type="button" class="'+[y.arrow,y.up].join(" ")+'" aria-hidden="true" tabindex="-1">'+t.labels.up+"</button>",n+='<button type="button" class="'+[y.arrow,y.down].join(" ")+'" aria-hidden="true" tabindex="-1">'+t.labels.down+"</button>",this.wrap('<div class="'+[y.base,t.theme,t.customClass,t.disabled?y.disabled:""].join(" ")+'"></div>').after(n),t.$container=this.parent(v.base),t.$arrows=t.$container.find(v.arrow),this.on(b.focus,t,l).on(b.blur,t,c).on(b.keyPress,t,d),t.$container.on([b.touchStart,b.mouseDown].join(" "),v.arrow,t,u),h(t,0)}function o(t){t.$arrows.remove(),this.unwrap().off(b.namespace)}function r(t){t.disabled&&(this.prop("disabled",!1),t.$container.removeClass(y.disabled),t.disabled=!1)}function s(t){t.disabled||(this.prop("disabled",!0),t.$container.addClass(y.disabled),t.disabled=!0)}function a(t){var e=parseFloat(t.$el.attr("min")),i=parseFloat(t.$el.attr("max"));t.min=!(!e&&0!==e)&&e,t.max=!(!i&&0!==i)&&i,t.step=parseFloat(t.$el.attr("step"))||1,t.timer=null,t.digits=f(t.step),t.disabled=t.$el.is(":disabled")||t.$el.is("[readonly]"),h(t,0)}function l(t){t.data.$container.addClass(y.focus)}function c(t){h(t.data,0),t.data.$container.removeClass(y.focus)}function d(t){var e=t.data;38!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),h(e,38===t.keyCode?e.step:-e.step))}function u(e){w.killEvent(e),p(e);var i=e.data;if(!i.disabled&&e.which<=1){var n=t(e.target).hasClass(y.up)?i.step:-i.step;i.timer=w.startTimer(i.timer,300,function(){i.timer=w.startTimer(i.timer,125,function(){h(i,n,!1)},!0)}),h(i,n),x.on([b.touchEnd,b.mouseUp].join(" "),i,p)}}function p(t){w.killEvent(t);var e=t.data;w.clearTimer(e.timer,!0),x.off(b.namespace)}function h(e,i){var n=parseFloat(e.$el.val()),o=i;"undefined"===t.type(n)||isNaN(n)?o=!1!==e.min?e.min:0:!1!==e.min&&n<e.min?o=e.min:o+=n;var r=(o-e.min)%e.step;0!==r&&(o-=r),!1!==e.min&&o<e.min&&(o=e.min),!1!==e.max&&o>e.max&&(o=e.max),o!==n&&(o=m(o,e.digits),e.$el.val(o).trigger(b.raw.change,[!0]))}function f(t){var e=String(t);return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}function m(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}var g=e.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"},theme:"fs-light"},classes:["arrow","up","down","disabled","focus"],methods:{_setup:i,_construct:n,_destruct:o,enable:r,disable:s,update:a}}),v=g.classes,y=v.raw,b=g.events,w=g.functions,x=null}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(e,i,a){if("object"===t.type(e))s=t.extend(s,e);else if(a=t.extend({},s,a||{}),"undefined"!==t.type(e)){if("undefined"===t.type(i))return o(e);null===i?r(e,a):n(e,i,a)}return null}function n(e,i,n){var o=!1,r=new Date;n.expires&&"number"===t.type(n.expires)&&(r.setTime(r.getTime()+n.expires),o=r.toGMTString());var s=n.domain?"; domain="+n.domain:"",l=o?"; expires="+o:"",c=o?"; max-age="+n.expires/1e3:"",d=n.path?"; path="+n.path:"",u=n.secure?"; secure":"";a.cookie=e+"="+i+l+c+s+d+u}function o(t){for(var e=t+"=",i=a.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}function r(e,i){n(e,"",t.extend({},i,{expires:-6048e5})),console.log(a.cookie)}var s=(e.Plugin("cookie",{utilities:{_delegate:i}}),{domain:null,expires:6048e5,path:null,secure:null}),a=e.document}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition","./viewer"],t):t(jQuery,Formstone)}(function(t,e){"use strict";function i(){$=e.$body,J=t("html, body"),tt=e.window.location.hash.replace("#","")}function n(){it&&l()}function o(t){this.on(Q.click,t,a);var e=this.data(N+"-gallery");!et&&tt&&e===tt&&(et=!0,this.trigger(Q.click))}function r(t){c(),this.off(Q.namespace)}function s(e,i){e instanceof t&&a.apply(Z,[{data:t.extend(!0,{},{$object:e},V,i||{})}])}function a(i){if(!it){var n=i.data;it=t.extend({},{visible:!1,gallery:{active:!1},isMobile:e.isMobile||n.mobile,isTouch:e.support.touch,isAnimating:!0,isZooming:!1,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1,tapTimer:null},n),it.isViewer=it.isMobile&&n.viewer&&void 0!==typeof t.fn.fsViewer;var o=n.$el,r=n.$object,s=o&&o[0].href?o[0].href||"":"",a=o&&o[0].hash?o[0].hash||"":"",l=(s.toLowerCase().split(".").pop().split(/\#|\?/),o?o.data(N+"-type"):""),d="image"===l||s.match(n.fileTypes)||"data:image"===s.substr(0,10),u=D(s),h="url"===l||!d&&!u&&"http"===s.substr(0,4)&&!a,m="element"===l||!d&&!u&&!h&&"#"===a.substr(0,1),g=void 0!==r;if(m&&(s=a),!(d||u||h||m||g))return void(it=null);if(G.killEvent(i),it.$viewportMeta=t('meta[name="viewport"]'),it.viewportContent=!!it.$viewportMeta.length&&it.$viewportMeta.attr("content"),it.margin*=2,it.type=d?"image":u?"video":"element",d||u){var y=o.data(N+"-gallery");y&&(it.gallery.active=!0,it.gallery.id=y,it.gallery.$items=t("a[data-lightbox-gallery= "+it.gallery.id+"], a[rel= "+it.gallery.id+"]"),it.gallery.index=it.gallery.$items.index(it.$el),it.gallery.total=it.gallery.$items.length-1)}it.thumbnails&&(d||u)&&it.gallery.active||(it.thumbnails=!1);var w="";it.isMobile||(w+='<div class="'+[U.overlay,it.theme,it.customClass].join(" ")+'"></div>');var x=[U.base,U.loading,U.animating,it.theme,it.customClass];if(it.fixed&&x.push(U.fixed),it.isMobile&&x.push(U.mobile),it.isTouch&&x.push(U.touch),h&&x.push(U.iframed),(m||g)&&x.push(U.inline),it.thumbnails&&x.push(U.thumbnailed),w+='<div class="'+x.join(" ")+'" role="dialog" aria-label="lightbox" tabindex="-1">',w+='<button type="button" class="'+U.close+'">'+it.labels.close+"</button>",w+='<span class="'+U.loading_icon+'"></span>',w+='<div class="'+U.container+'">',it.gallery.active&&it.thumbnails){w+='<div class="'+[U.thumbnails]+'">',w+='<div class="'+[U.thumbnail_container]+'">';for(var C,I,T=0,k=it.gallery.$items.length;T<k;T++)C=it.gallery.$items.eq(T),I=C.data("lightbox-thumbnail"),I||(I=C.find("img").attr("src")),w+='<button class="'+[U.thumbnail_item]+'">',w+='<img src="'+I+'" alt="">',w+="</button>";w+="</div></div>"}w+='<div class="'+U.content+'"></div>',(d||u)&&(w+='<div class="'+U.tools+'">',w+='<div class="'+U.controls+'">',it.gallery.active&&(w+='<button type="button" class="'+[U.control,U.control_previous].join(" ")+'">'+it.labels.previous+"</button>",w+='<button type="button" class="'+[U.control,U.control_next].join(" ")+'">'+it.labels.next+"</button>"),it.isMobile&&it.isTouch&&(w+='<button type="button" class="'+[U.toggle,U.caption_toggle].join(" ")+'">'+it.labels.captionClosed+"</button>",it.gallery.active&&it.thumbnails&&(w+='<button type="button" class="'+[U.toggle,U.thumbnail_toggle].join(" ")+'">'+it.labels.thumbnailsClosed+"</button>")),w+="</div>",w+='<div class="'+U.meta+'">',w+='<div class="'+U.meta_content+'">',it.gallery.active&&(w+='<p class="'+U.position+'"',it.gallery.total<1&&(w+=' style="display: none;"'),w+=">",w+='<span class="'+U.position_current+'">'+(it.gallery.index+1)+"</span> ",w+=it.labels.count,w+=' <span class="'+U.position_total+'">'+(it.gallery.total+1)+"</span>",w+="</p>"),w+='<div class="'+U.caption+'">',w+=it.formatter.call(o,n),w+="</div></div></div>",w+="</div>"),w+="</div></div>",$.append(w),it.$overlay=t(X.overlay),it.$lightbox=t(X.base),it.$close=t(X.close),it.$container=t(X.container),it.$content=t(X.content),it.$tools=t(X.tools),it.$meta=t(X.meta),it.$metaContent=t(X.meta_content),it.$position=t(X.position),it.$caption=t(X.caption),it.$controlBox=t(X.controls),it.$controls=t(X.control),it.$thumbnails=t(X.thumbnails),it.$thumbnailContainer=t(X.thumbnail_container),it.$thumbnailItems=t(X.thumbnail_item),it.isMobile?(it.paddingVertical=it.$close.outerHeight(),it.paddingHorizontal=0,it.mobilePaddingVertical=parseInt(it.$content.css("paddingTop"),10)+parseInt(it.$content.css("paddingBottom"),10),it.mobilePaddingHorizontal=parseInt(it.$content.css("paddingLeft"),10)+parseInt(it.$content.css("paddingRight"),10)):(it.paddingVertical=parseInt(it.$lightbox.css("paddingTop"),10)+parseInt(it.$lightbox.css("paddingBottom"),10),it.paddingHorizontal=parseInt(it.$lightbox.css("paddingLeft"),10)+parseInt(it.$lightbox.css("paddingRight"),10),it.mobilePaddingVertical=0,it.mobilePaddingHorizontal=0),it.contentHeight=it.$lightbox.outerHeight()-it.paddingVertical,it.contentWidth=it.$lightbox.outerWidth()-it.paddingHorizontal,it.controlHeight=it.$controls.outerHeight(),p(),it.gallery.active&&(it.$lightbox.addClass(U.has_controls),M()),K.on(Q.keyDown,P),$.on(Q.click,[X.overlay,X.close].join(", "),c).on([Q.focus,Q.focusIn].join(" "),B),it.gallery.active&&it.$lightbox.on(Q.click,X.control,H),it.thumbnails&&it.$lightbox.on(Q.click,X.thumbnail_item,E),it.isMobile&&it.isTouch&&it.$lightbox.on(Q.click,X.caption_toggle,f).on(Q.click,X.thumbnail_toggle,v),it.$lightbox.fsTransition({property:"opacity"},function(){d?b(s):u?_(s):h?j(s):m?L(s):g&&F(it.$object)}).addClass(U.open),it.$overlay.addClass(U.open)}}function l(t){"object"!=typeof t&&(it.targetHeight=arguments[0],it.targetWidth=arguments[1]),"element"===it.type?q(it.$content.find("> :first-child")):"image"===it.type?w():"video"===it.type&&T(),u()}function c(t){G.killEvent(t),it&&(it.$lightbox.fsTransition("destroy"),it.$content.fsTransition("destroy"),it.$lightbox.addClass(U.animating).fsTransition({property:"opacity"},function(t){void 0!==it.$inlineTarget&&it.$inlineTarget.length&&O(),it.$lightbox.off(Q.namespace),it.$container.off(Q.namespace),K.off(Q.keyDown),$.off(Q.namespace),$.off(Q.namespace),it.$overlay.remove(),it.$lightbox.remove(),it.$el.focus(),it=null,K.trigger(Q.close)}),it.$lightbox.removeClass(U.open),it.$overlay.removeClass(U.open),it.isMobile&&(J.removeClass(U.lock),it.$viewportMeta?it.$viewportMeta.attr("content",it.viewportContent):it.$viewportMeta.remove()))}function d(){var e=h();if(it.isMobile||it.duration,it.isMobile){var i="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no";it.$viewportMeta?it.$viewportMeta.attr("content",i):it.$viewportMeta=t("head").append('<meta name="viewport" content="'+i+'">')}else it.$controls.css({marginTop:(it.contentHeight-it.controlHeight-it.metaHeight+it.thumbnailHeight)/2});""===it.$caption.html()?(it.$caption.hide(),it.$lightbox.removeClass(U.has_caption),it.gallery.active||it.$tools.hide()):(it.$caption.show(),it.$lightbox.addClass(U.has_caption)),it.$lightbox.fsTransition({property:it.contentHeight!==it.oldContentHeight?"height":"width"},function(){it.$content.fsTransition({property:"opacity"},function(){it.$lightbox.removeClass(U.animating),it.isAnimating=!1}),it.$lightbox.removeClass(U.loading).addClass(U.ready),it.visible=!0,K.trigger(Q.open),it.gallery.active&&(k(),W(),z()),it.$lightbox.focus()}),it.isMobile||it.$lightbox.css({height:it.contentHeight+it.paddingVertical,width:it.contentWidth+it.paddingHorizontal,top:it.fixed?0:e.top});var n=it.oldContentHeight!==it.contentHeight||it.oldContentWidth!==it.contentWidth;!it.isMobile&&n||it.$lightbox.fsTransition("resolve"),it.oldContentHeight=it.contentHeight,it.oldContentWidth=it.contentWidth,it.isMobile&&J.addClass(U.lock)}function u(){if(it.visible&&!it.isMobile){var t=h();it.$controls.css({marginTop:(it.contentHeight-it.controlHeight-it.metaHeight+it.thumbnailHeight)/2}),it.$lightbox.css({height:it.contentHeight+it.paddingVertical,width:it.contentWidth+it.paddingHorizontal,top:it.fixed?0:t.top}),it.oldContentHeight=it.contentHeight,it.oldContentWidth=it.contentWidth}}function p(){var t=h();it.$lightbox.css({top:it.fixed?0:t.top})}function h(){if(it.isMobile)return{left:0,top:0};var t={left:(e.windowWidth-it.contentWidth-it.paddingHorizontal)/2,top:it.top<=0?(e.windowHeight-it.contentHeight-it.paddingVertical)/2:it.top};return!0!==it.fixed&&(t.top+=K.scrollTop()),t}function f(t){if(G.killEvent(t),it.captionOpen)m();else{y();var e=parseInt(it.$metaContent.outerHeight(!0));e+=parseInt(it.$meta.css("padding-top")),e+=parseInt(it.$meta.css("padding-bottom")),it.$meta.css({height:e}),it.$lightbox.addClass(U.caption_open).find(X.caption_toggle).text(it.labels.captionOpen),it.captionOpen=!0}}function m(){it.$lightbox.removeClass(U.caption_open).find(X.caption_toggle).text(it.labels.captionClosed),it.captionOpen=!1}function g(){var t=this.attr("title"),e=!(void 0===t||!t)&&t.replace(/^\s+|\s+$/g,"");return e?'<p class="caption">'+e+"</p>":""}function v(t){G.killEvent(t),it.thumbnailsOpen?y():(m(),it.$lightbox.addClass(U.thumbnails_open).find(X.thumbnail_toggle).text(it.labels.thumbnailsOpen),it.thumbnailsOpen=!0)}function y(){it.$lightbox.removeClass(U.thumbnails_open).find(X.thumbnail_toggle).text(it.labels.thumbnailsClosed),it.thumbnailsOpen=!1}function b(e){it.isViewer?(it.$imageContainer=t('<div class="'+U.image_container+'"><img></div>'),it.$image=it.$imageContainer.find("img"),it.$image.attr("src",e).addClass(U.image),it.$content.prepend(it.$imageContainer),w(),it.$imageContainer.one("loaded.viewer",function(){d()}).fsViewer({theme:it.theme})):(it.$imageContainer=t('<div class="'+U.image_container+'"><img></div>'),it.$image=it.$imageContainer.find("img"),it.$image.one(Q.load,function(){var t=R(it.$image);it.naturalHeight=t.naturalHeight,it.naturalWidth=t.naturalWidth,it.retina&&(it.naturalHeight/=2,it.naturalWidth/=2),it.$content.prepend(it.$imageContainer),w(),d()}).error(A).attr("src",e).addClass(U.image),(it.$image[0].complete||4===it.$image[0].readyState)&&it.$image.trigger(Q.load))}function w(){if(it.$image){var t=0;for(it.windowHeight=it.viewportHeight=e.windowHeight-it.mobilePaddingVertical-it.paddingVertical,it.windowWidth=it.viewportWidth=e.windowWidth-it.mobilePaddingHorizontal-it.paddingHorizontal,it.contentHeight=1/0,it.contentWidth=1/0,it.imageMarginTop=0,it.imageMarginLeft=0;it.contentHeight>it.viewportHeight&&t<2;)it.imageHeight=0===t?it.naturalHeight:it.$image.outerHeight(),it.imageWidth=0===t?it.naturalWidth:it.$image.outerWidth(),it.metaHeight=0===t?0:it.metaHeight,it.spacerHeight=0===t?0:it.spacerHeight,it.thumbnailHeight=0===t?0:it.thumbnailHeight,0===t&&(it.ratioHorizontal=it.imageHeight/it.imageWidth,it.ratioVertical=it.imageWidth/it.imageHeight,it.isWide=it.imageWidth>it.imageHeight),it.imageHeight<it.minHeight&&(it.minHeight=it.imageHeight),it.imageWidth<it.minWidth&&(it.minWidth=it.imageWidth),it.isMobile?(it.isTouch?(it.$controlBox.css({width:e.windowWidth}),it.spacerHeight=it.$controls.outerHeight(!0)):(it.$tools.css({width:e.windowWidth}),it.spacerHeight=it.$tools.outerHeight(!0)),it.contentHeight=it.viewportHeight,it.contentWidth=it.viewportWidth,it.isTouch||it.$content.css({height:it.contentHeight-it.spacerHeight}),it.spacerHeight+=it.$thumbnails.outerHeight(!0)+10,x(),it.imageMarginTop=(it.contentHeight-it.targetImageHeight-it.spacerHeight)/2,it.imageMarginLeft=(it.contentWidth-it.targetImageWidth)/2):(0===t&&(it.viewportHeight-=it.margin+it.paddingVertical,it.viewportWidth-=it.margin+it.paddingHorizontal),it.viewportHeight-=it.metaHeight,it.thumbnails&&(it.viewportHeight-=it.thumbnailHeight),x(),it.contentHeight=it.targetImageHeight,it.contentWidth=it.targetImageWidth),it.isMobile||it.isTouch||it.$meta.css({width:it.contentWidth}),it.$image.css({height:it.targetImageHeight,width:it.targetImageWidth,marginTop:it.imageMarginTop,marginLeft:it.imageMarginLeft}),it.isMobile||(it.metaHeight=it.$meta.outerHeight(!0),it.contentHeight+=it.metaHeight),it.thumbnails&&(it.thumbnailHeight=it.$thumbnails.outerHeight(!0),it.contentHeight+=it.thumbnailHeight),t++}}function x(){var t=it.isMobile?it.contentHeight-it.spacerHeight:it.viewportHeight,e=it.isMobile?it.contentWidth:it.viewportWidth;it.isWide?(it.targetImageWidth=e,it.targetImageHeight=it.targetImageWidth*it.ratioHorizontal,it.targetImageHeight>t&&(it.targetImageHeight=t,it.targetImageWidth=it.targetImageHeight*it.ratioVertical)):(it.targetImageHeight=t,it.targetImageWidth=it.targetImageHeight*it.ratioVertical,it.targetImageWidth>e&&(it.targetImageWidth=e,it.targetImageHeight=it.targetImageWidth*it.ratioHorizontal)),(it.targetImageWidth>it.imageWidth||it.targetImageHeight>it.imageHeight)&&(it.targetImageHeight=it.imageHeight,it.targetImageWidth=it.imageWidth),(it.targetImageWidth<it.minWidth||it.targetImageHeight<it.minHeight)&&(it.targetImageWidth<it.minWidth?(it.targetImageWidth=it.minWidth,it.targetImageHeight=it.targetImageWidth*it.ratioHorizontal):(it.targetImageHeight=it.minHeight,it.targetImageWidth=it.targetImageHeight*it.ratioVertical))}function C(t){return"//www.youtube.com/embed/"+t[1]}function I(t){return"//player.vimeo.com/video/"+t[3]}function _(e){var i=D(e),n=e.split("?");i?(n.length>=2&&(i+="?"+n.slice(1)[0].trim()),it.$videoWrapper=t('<div class="'+U.video_wrapper+'"></div>'),it.$video=t('<iframe class="'+U.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),it.$video.attr("src",i).addClass(U.video).prependTo(it.$videoWrapper),it.$content.prepend(it.$videoWrapper),T(),d()):A()}function T(){it.windowHeight=it.viewportHeight=e.windowHeight-it.mobilePaddingVertical-it.paddingVertical,it.windowWidth=it.viewportWidth=e.windowWidth-it.mobilePaddingHorizontal-it.paddingHorizontal,it.videoMarginTop=0,it.videoMarginLeft=0,it.isMobile?(it.isTouch?(it.$controlBox.css({width:e.windowWidth}),it.spacerHeight=it.$controls.outerHeight(!0)+10):(it.$tools.css({width:e.windowWidth}),it.spacerHeight=it.$tools.outerHeight(!0),it.spacerHeight+=it.$thumbnails.outerHeight(!0)+10),it.viewportHeight-=it.spacerHeight,it.targetVideoWidth=it.viewportWidth,it.targetVideoHeight=it.targetVideoWidth*it.videoRatio,it.targetVideoHeight>it.viewportHeight&&(it.targetVideoHeight=it.viewportHeight,it.targetVideoWidth=it.targetVideoHeight/it.videoRatio),it.videoMarginTop=(it.viewportHeight-it.targetVideoHeight)/2,it.videoMarginLeft=(it.viewportWidth-it.targetVideoWidth)/2):(it.viewportHeight=it.windowHeight-it.margin,it.viewportWidth=it.windowWidth-it.margin,it.targetVideoWidth=it.videoWidth>it.viewportWidth?it.viewportWidth:it.videoWidth,it.targetVideoWidth<it.minWidth&&(it.targetVideoWidth=it.minWidth),it.targetVideoHeight=it.targetVideoWidth*it.videoRatio,it.contentHeight=it.targetVideoHeight,it.contentWidth=it.targetVideoWidth),it.isMobile||it.isTouch||it.$meta.css({width:it.contentWidth}),it.$videoWrapper.css({height:it.targetVideoHeight,width:it.targetVideoWidth,marginTop:it.videoMarginTop,marginLeft:it.videoMarginLeft}),it.isMobile||(it.metaHeight=it.$meta.outerHeight(!0),it.contentHeight+=it.metaHeight),it.thumbnails&&(it.thumbnailHeight=it.$thumbnails.outerHeight(!0),it.contentHeight+=it.thumbnailHeight)}function k(e){var i="";it.gallery.index>0&&(i=it.gallery.$items.eq(it.gallery.index-1).attr("href"),D(i)||t('<img src="'+i+'">')),it.gallery.index<it.gallery.total&&(i=it.gallery.$items.eq(it.gallery.index+1).attr("href"),D(i)||t('<img src="'+i+'">'))}function H(e){G.killEvent(e);var i=t(e.currentTarget);it.isAnimating||i.hasClass(U.control_disabled)||(it.isAnimating=!0,m(),it.gallery.index+=i.hasClass(U.control_next)?1:-1,it.gallery.index>it.gallery.total&&(it.gallery.index=it.infinite?0:it.gallery.total),it.gallery.index<0&&(it.gallery.index=it.infinite?it.gallery.total:0),W(),
it.$lightbox.addClass(U.animating),it.$content.fsTransition({property:"opacity"},S),it.$lightbox.addClass(U.loading))}function E(e){G.killEvent(e);var i=t(e.currentTarget);it.isAnimating||i.hasClass(U.active)||(it.isAnimating=!0,m(),it.gallery.index=it.$thumbnailItems.index(i),W(),it.$lightbox.addClass(U.animating),it.$content.fsTransition({property:"opacity"},S),it.$lightbox.addClass(U.loading))}function W(){if(it.thumbnails){var t=it.$thumbnailItems.eq(it.gallery.index);it.$thumbnailItems.removeClass(U.active),t.addClass(U.active)}}function z(){if(it.thumbnails){var t=it.$thumbnailItems.eq(it.gallery.index),e=t.position().left+t.outerWidth(!1)/2-it.$thumbnailContainer.outerWidth(!0)/2;it.$thumbnailContainer.stop().animate({scrollLeft:e},200,"linear")}}function S(){void 0!==it.$imageContainer&&(it.isViewer&&it.$imageContainer.fsViewer("destroy"),it.$imageContainer.remove()),void 0!==it.$videoWrapper&&it.$videoWrapper.remove(),it.$el=it.gallery.$items.eq(it.gallery.index),it.$caption.html(it.formatter.call(it.$el,it)),it.$position.find(X.position_current).html(it.gallery.index+1);var t=it.$el.attr("href");D(t)?(it.type="video",_(t)):(it.type="image",b(t)),M()}function M(){it.$controls.removeClass(U.control_disabled),it.infinite||(0===it.gallery.index&&it.$controls.filter(X.control_previous).addClass(U.control_disabled),it.gallery.index===it.gallery.total&&it.$controls.filter(X.control_next).addClass(U.control_disabled))}function P(t){!it.gallery.active||37!==t.keyCode&&39!==t.keyCode?27===t.keyCode&&it.$close.trigger(Q.click):(G.killEvent(t),it.$controls.filter(37===t.keyCode?X.control_previous:X.control_next).trigger(Q.click))}function L(e){it.$inlineTarget=t(e),it.$inlineContents=it.$inlineTarget.children().detach(),F(it.$inlineContents)}function O(){it.$inlineTarget.append(it.$inlineContents.detach())}function j(e){e+=e.indexOf("?")>-1?"&"+it.requestKey+"=true":"?"+it.requestKey+"=true",F(t('<iframe class="'+U.iframe+'" src="'+e+'"></iframe>'))}function F(t){it.$content.append(t),q(t),d()}function q(t){it.windowHeight=e.windowHeight-it.mobilePaddingVertical-it.paddingVertical,it.windowWidth=e.windowWidth-it.mobilePaddingHorizontal-it.paddingHorizontal,it.objectHeight=t.outerHeight(!0),it.objectWidth=t.outerWidth(!0),it.targetHeight=it.targetHeight||(it.$el?it.$el.data(N+"-height"):null),it.targetWidth=it.targetWidth||(it.$el?it.$el.data(N+"-width"):null),it.maxHeight=it.windowHeight<0?it.minHeight:it.windowHeight,it.isIframe=t.is("iframe"),it.objectMarginTop=0,it.objectMarginLeft=0,it.isMobile||(it.windowHeight-=it.margin,it.windowWidth-=it.margin),it.contentHeight=it.targetHeight?it.targetHeight:it.isIframe||it.isMobile?it.windowHeight:it.objectHeight,it.contentWidth=it.targetWidth?it.targetWidth:it.isIframe||it.isMobile?it.windowWidth:it.objectWidth,(it.isIframe||it.isObject)&&it.isMobile?(it.contentHeight=it.windowHeight,it.contentWidth=it.windowWidth):it.isObject&&(it.contentHeight=it.contentHeight>it.windowHeight?it.windowHeight:it.contentHeight,it.contentWidth=it.contentWidth>it.windowWidth?it.windowWidth:it.contentWidth),it.isMobile||(it.contentHeight>it.maxHeight&&(it.contentHeight=it.maxHeight),it.contentWidth>it.maxWidth&&(it.contentWidth=it.maxWidth))}function A(){var e=t('<div class="'+U.error+'"><p>Error Loading Resource</p></div>');it.type="element",it.$tools.remove(),it.$image.off(Q.namespace),F(e),K.trigger(Q.error)}function R(t){var e=t[0],i=new Image;return void 0!==e.naturalHeight?{naturalHeight:e.naturalHeight,naturalWidth:e.naturalWidth}:"img"===e.tagName.toLowerCase()&&(i.src=e.src,{naturalHeight:i.height,naturalWidth:i.width})}function D(t){var e,i=it.videoFormatter;for(var n in i)if(i.hasOwnProperty(n)&&null!==(e=t.match(i[n].pattern)))return i[n].format.call(it,e);return!1}function B(e){var i=e.target;t.contains(it.$lightbox[0],i)||i===it.$lightbox[0]||i===it.$overlay[0]||(G.killEvent(e),it.$lightbox.focus())}var Y=e.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:g,infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails"},margin:50,maxHeight:1e4,maxWidth:1e4,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:C},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:I}},videoRatio:.5625,videoWidth:800,viewer:!0},classes:["loading","animating","scaling","zooming","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_setup:i,_construct:o,_destruct:r,_resize:n,resize:l},utilities:{_initialize:s,close:c}}),N=Y.namespace,V=Y.defaults,X=Y.classes,U=X.raw,Q=Y.events,G=Y.functions,Z=e.window,K=e.$window,$=null,J=null,tt=!1,et=!1,it=null}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(t){var e,i,n,o,r,s,a="Close",l="BeforeClose",c="MarkupParse",d="Open",u="Change",p="mfp",h="."+p,f="mfp-ready",m="mfp-removing",g="mfp-prevent-close",v=function(){},y=!!window.jQuery,b=t(window),w=function(t,i){e.ev.on(p+t+h,i)},x=function(e,i,n,o){var r=document.createElement("div");return r.className="mfp-"+e,n&&(r.innerHTML=n),o?i&&i.appendChild(r):(r=t(r),i&&r.appendTo(i)),r},C=function(i,n){e.ev.triggerHandler(p+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},I=function(i){return i===s&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),s=i),e.currTemplate.closeBtn},_=function(){t.magnificPopup.instance||(e=new v,e.init(),t.magnificPopup.instance=e)},T=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};v.prototype={constructor:v,init:function(){var i=navigator.appVersion;e.isIE7=-1!==i.indexOf("MSIE 7."),e.isIE8=-1!==i.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=T(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var o;if(!1===i.isObj){e.items=i.items.toArray(),e.index=0;var s,a=i.items;for(o=0;o<a.length;o++)if(s=a[o],s.parsed&&(s=s.el[0]),s===i.el[0]){e.index=o;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],r="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=x("bg").on("click"+h,function(){e.close()}),e.wrap=x("wrap").attr("tabindex",-1).on("click"+h,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=x("container",e.wrap)),e.contentContainer=x("content"),e.st.preloader&&(e.preloader=x("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(o=0;o<l.length;o++){var u=l[o];u=u.charAt(0).toUpperCase()+u.slice(1),e["init"+u].call(e)}C("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(w(c,function(t,e,i,n){i.close_replaceWith=I(n.type)}),r+=" mfp-close-btn-in"):e.wrap.append(I())),e.st.alignTop&&(r+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:b.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+h,function(t){27===t.keyCode&&e.close()}),b.on("resize"+h,function(){e.updateSize()}),e.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&e.wrap.addClass(r);var p=e.wH=b.height(),m={};if(e.fixedContentPos&&e._hasScrollBar(p)){var g=e._getScrollbarSize();g&&(m.marginRight=g)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):m.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),C("BuildControls"),t("html").css(m),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(f),e._setFocus()):e.bgOverlay.addClass(f),n.on("focusin"+h,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(p),C(d),i},close:function(){e.isOpen&&(C(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(m),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){C(a);var i=m+" "+f+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var o={marginRight:""};e.isIE7?t("body, html").css("overflow",""):o.overflow="",t("html").css(o)}n.off("keyup.mfp focusin"+h),e.ev.off(h),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,C("AfterClose")},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||b.height();e.fixedContentPos||e.wrap.css("height",e.wH),C("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(C("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var r=!!e.st[n]&&e.st[n].markup;C("FirstMarkupParse",r),e.currTemplate[n]=!r||t(r)}o&&o!==i.type&&e.container.removeClass("mfp-"+o+"-holder");var s=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(s,n),i.preloaded=!0,C(u,i),o=i.type,e.container.prepend(e.contentContainer),C("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[i]?e.content.find(".mfp-close").length||e.content.append(I()):e.content=t:e.content="",C("BeforeAppend"),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,o=e.items[i];if(o.tagName?o={el:t(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var r=e.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){n=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||e.st.type||"inline",o.index=i,o.parsed=!0,e.items[i]=o,C("ElementParse",o),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var o="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(o).on(o,n)):(i.isObj=!1,i.delegate?t.off(o).on(o,i.delegate,n):(i.items=t,t.off(o).on(o,n)))},_openClick:function(i,n,o){if((void 0!==o.midClick?o.midClick:t.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var r=void 0!==o.disableOn?o.disableOn:t.magnificPopup.defaults.disableOn;if(r)if(t.isFunction(r)){if(!r.call(e))return!0}else if(b.width()<r)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),o.el=t(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),e.open(o)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var o={status:t,text:n};C("UpdateStatus",o),t=o.status,n=o.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(g)){var n=e.st.closeOnContentClick,o=e.st.closeOnBgClick;if(n&&o)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(o&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||b.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){return i.target===e.wrap[0]||t.contains(e.wrap[0],i.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,i,n){var o;n.data&&(i=t.extend(n.data,i)),C(c,[e,i,n]),t.each(i,function(t,i){if(void 0===i||!1===i)return!0;if(o=t.split("_"),o.length>1){var n=e.find(h+"-"+o[0]);if(n.length>0){var r=o[1];"replaceWith"===r?n[0]!==i[0]&&n.replaceWith(i):"img"===r?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(o[1],i)}}else e.find(h+"-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:v.prototype,modules:[],open:function(e,i){return _(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(i){_();var n=t(this);if("string"==typeof i)if("open"===i){var o,r=y?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?o=r.items[s]:(o=n,r.delegate&&(o=o.find(r.delegate)),o=o.eq(s)),e._openClick({mfpEl:o},n,r)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),y?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var k,H,E,W="inline",z=function(){E&&(H.after(E.addClass(k)).detach(),E=null)};t.magnificPopup.registerModule(W,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(W),w(a+"."+W,function(){z()})},getInline:function(i,n){if(z(),i.src){var o=e.st.inline,r=t(i.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(H||(k=o.hiddenClass,H=x(k),k="mfp-"+k),E=r.after(H).detach().removeClass(k)),e.updateStatus("ready")}else e.updateStatus("error",o.tNotFound),r=t("<div>");return i.inlineElement=r,r}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var S,M="ajax",P=function(){S&&t(document.body).removeClass(S)},L=function(){P(),e.req&&e.req.abort()};t.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(M),S=e.st.ajax.cursor,w(a+"."+M,L),w("BeforeChange."+M,L)},getAjax:function(i){S&&t(document.body).addClass(S),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,o,r){var s={data:n,xhr:r};C("ParseAjax",s),e.appendContent(t(s.data),M),i.finished=!0,P(),e._setFocus(),setTimeout(function(){e.wrap.addClass(f)},16),e.updateStatus("ready"),C("AjaxContentAdded")},error:function(){P(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var O,j=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),w(d+n,function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)}),w(a+n,function(){i.cursor&&t(document.body).removeClass(i.cursor),b.off("resize"+h)}),w("Resize"+n,e.resizeImage),e.isLowIE&&w("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,O&&clearInterval(O),t.isCheckingImgSize=!1,C("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],o=function(r){O&&clearInterval(O),O=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(O),i++,void(3===i?o(10):40===i?o(50):100===i&&o(500)))},r)};o(1)},getImage:function(i,n){var o=0,r=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,C("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):s()))},s=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=e.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=t(c).on("load.mfploader",r).on("error.mfploader",s),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:j(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(O&&clearInterval(O),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var F,q=function(){return void 0===F&&(F=void 0!==document.createElement("p").style.MozTransform),F};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var o,r,s=i.duration,c=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=n,e.css(o),e},d=function(){e.content.css("visibility","visible")};w("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void d();r=c(t),r.css(e._getOffset()),e.wrap.append(r),o=setTimeout(function(){r.css(e._getOffset(!0)),o=setTimeout(function(){d(),setTimeout(function(){r.remove(),t=r=null,C("ZoomAnimationEnded")},16)},s)},16)}}),w(l+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.st.removalDelay=s,!t){if(!(t=e._getItemToZoom()))return;r=c(t)}r.css(e._getOffset(!0)),e.wrap.append(r),e.content.css("visibility","hidden"),setTimeout(function(){r.css(e._getOffset())},16)}}),w(a+n,function(){e._allowZoom()&&(d(),r&&r.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n;n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var o=n.offset(),r=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);o.top-=t(window).scrollTop()-r;var a={width:n.width(),height:(y?n.innerHeight():n[0].offsetHeight)-s-r};return q()?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var A="iframe",R="//about:blank",D=function(t){if(e.currTemplate[A]){var i=e.currTemplate[A].find("iframe");i.length&&(t||(i[0].src=R),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(A,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(A),w("BeforeChange",function(t,e,i){e!==i&&(e===A?D():i===A&&D(!0))}),w(a+"."+A,function(){D()})},getIframe:function(i,n){var o=i.src,r=e.st.iframe;t.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var s={};return r.srcAction&&(s[r.srcAction]=o),e._parseMarkup(n,s,i),e.updateStatus("ready"),n}}});var B=function(t){var i=e.items.length;return t>i-1?t-i:0>t?i+t:t},Y=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,o=".mfp-gallery",s=Boolean(t.fn.mfpFastClick);return e.direction=!0,!(!i||!i.enabled)&&(r+=" mfp-gallery",w(d+o,function(){i.navigateByImgClick&&e.wrap.on("click"+o,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),n.on("keydown"+o,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),w("UpdateStatus"+o,function(t,i){i.text&&(i.text=Y(i.text,e.currItem.index,e.items.length))}),w(c+o,function(t,n,o,r){var s=e.items.length;o.counter=s>1?Y(i.tCounter,r.index,s):""}),w("BuildControls"+o,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,o=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(g),r=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(g),a=s?"mfpFastClick":"click";o[a](function(){e.prev()}),r[a](function(){e.next()}),e.isIE7&&(x("b",o[0],!1,!0),x("a",o[0],!1,!0),x("b",r[0],!1,!0),x("a",r[0],!1,!0)),e.container.append(o.add(r))}}),w(u+o,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void w(a+o,function(){n.off(o),e.wrap.off("click"+o),e.arrowLeft&&s&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=B(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=B(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),o=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?o:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:o);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=B(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),C("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,C("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var N="retina";t.magnificPopup.registerModule(N,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;(i=isNaN(i)?i():i)>1&&(w("ImageHasSize."+N,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),w("ElementParse."+N,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),function(){var e="ontouchstart"in window,i=function(){b.off("touchmove"+o+" touchend"+o)},n="mfpFastClick",o="."+n;t.fn.mfpFastClick=function(n){return t(this).each(function(){var r,s=t(this);if(e){var a,l,c,d,u,p;s.on("touchstart"+o,function(t){d=!1,p=1,u=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],l=u.clientX,c=u.clientY,b.on("touchmove"+o,function(t){u=t.originalEvent?t.originalEvent.touches:t.touches,p=u.length,u=u[0],(Math.abs(u.clientX-l)>10||Math.abs(u.clientY-c)>10)&&(d=!0,i())}).on("touchend"+o,function(t){i(),d||p>1||(r=!0,t.preventDefault(),clearTimeout(a),a=setTimeout(function(){r=!1},1e3),n())})})}s.on("click"+o,function(){r||n()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+o+" click"+o),e&&b.off("touchmove"+o+" touchend"+o)}}(),_()}),function(t){function e(){}function i($){function t(t){t.prototype.option||(t.prototype.option=function(t){$.isPlainObject(t)&&(this.options=$.extend(!0,this.options,t))})}function i(t,e){$.fn[t]=function(i){if("string"==typeof i){for(var r=n.call(arguments,1),s=0,a=this.length;s<a;s++){var l=this[s],c=$.data(l,t);if(c)if($.isFunction(c[i])&&"_"!==i.charAt(0)){var d=c[i].apply(c,r);if(void 0!==d)return d}else o("no such method '"+i+"' for "+t+" instance");else o("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var n=$.data(this,t);n?(n.option(i),n._init()):(n=new e(this,i),$.data(this,t,n))})}}if($){var o="undefined"==typeof console?e:function(t){console.error(t)};return $.bridget=function(e,n){t(n),i(e,n)},$.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function e(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,r=o.EventEmitter;n.getListeners=function t(e){var i=this._getEvents(),n,o;if(e instanceof RegExp){n={};for(o in i)i.hasOwnProperty(o)&&e.test(o)&&(n[o]=i[o])}else n=i[e]||(i[e]=[]);return n},n.flattenListeners=function t(e){var i=[],n;for(n=0;n<e.length;n+=1)i.push(e[n].listener);return i},n.getListenersAsObject=function t(e){var i=this.getListeners(e),n;return i instanceof Array&&(n={},n[e]=i),n||i},n.addListener=function t(i,n){var o=this.getListenersAsObject(i),r="object"==typeof n,s;for(s in o)o.hasOwnProperty(s)&&-1===e(o[s],n)&&o[s].push(r?n:{listener:n,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function t(e,i){return this.addListener(e,{listener:i,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function t(e){return this.getListeners(e),this},n.defineEvents=function t(e){for(var i=0;i<e.length;i+=1)this.defineEvent(e[i]);return this},n.removeListener=function t(i,n){var o=this.getListenersAsObject(i),r,s;for(s in o)o.hasOwnProperty(s)&&-1!==(r=e(o[s],n))&&o[s].splice(r,1);return this},n.off=i("removeListener"),n.addListeners=function t(e,i){return this.manipulateListeners(!1,e,i)},n.removeListeners=function t(e,i){return this.manipulateListeners(!0,e,i)},n.manipulateListeners=function t(e,i,n){var o,r,s=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof i||i instanceof RegExp)for(o=n.length;o--;)s.call(this,i,n[o]);else for(o in i)i.hasOwnProperty(o)&&(r=i[o])&&("function"==typeof r?s.call(this,o,r):a.call(this,o,r));return this},n.removeEvent=function t(e){var i=typeof e,n=this._getEvents(),o;if("string"===i)delete n[e];else if(e instanceof RegExp)for(o in n)n.hasOwnProperty(o)&&e.test(o)&&delete n[o];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function t(e,i){var n=this.getListenersAsObject(e),o,r,s,a;for(s in n)if(n.hasOwnProperty(s))for(r=n[s].length;r--;)o=n[s][r],!0===o.once&&this.removeListener(e,o.listener),(a=o.listener.apply(this,i||[]))===this._getOnceReturnValue()&&this.removeListener(e,o.listener);return this},n.trigger=i("emitEvent"),n.emit=function t(e){var i=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,i)},n.setOnceReturnValue=function t(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function t(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function t(){return this._events||(this._events={})},t.noConflict=function e(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=i.length;o<r;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function i(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function n(){}function o(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=a.length;e<i;e++){t[a[e]]=0}return t}function r(e){function n(){if(!c){c=!0;var n=t.getComputedStyle;if(d=function(){
var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function e(i){var n=t(i);return n||s("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=e("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[u]="border-box";var r=document.body||document.documentElement;r.appendChild(o);var a=d(o);p=200===i(a.width),r.removeChild(o)}}}function r(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=d(t);if("none"===e.display)return o();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var s=r.isBorderBox=!(!u||!e[u]||"border-box"!==e[u]),c=0,h=a.length;c<h;c++){var f=a[c],m=e[f];m=l(t,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,y=r.paddingTop+r.paddingBottom,b=r.marginLeft+r.marginRight,w=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,C=r.borderTopWidth+r.borderBottomWidth,I=s&&p,_=i(e.width);!1!==_&&(r.width=_+(I?0:v+x));var T=i(e.height);return!1!==T&&(r.height=T+(I?0:y+C)),r.innerWidth=r.width-(v+x),r.innerHeight=r.height-(y+C),r.outerWidth=r.width+b,r.outerHeight=r.height+w,r}}function l(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,o=n.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,s&&(r.left=s),i}var c=!1,d,u,p;return r}var s="undefined"==typeof console?n:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):t.getSize=r(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=s.length;t<i;t++){(0,s[t])()}}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(t,"load",i)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[r](e)}function i(t){if(!t.parentNode){document.createDocumentFragment().appendChild(t)}}function n(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;o<r;o++)if(n[o]===t)return!0;return!1}function o(t,n){return i(t),e(t,n)}var r=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;i<n;i++){var o=e[i],r=o+"MatchesSelector";if(t[r])return r}}(),s;if(r){var a=document.createElement("div"),l=e(a,"div");s=l?e:o}else s=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):"object"==typeof exports?module.exports=s:window.matchesSelector=s}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function t(e,i,n){var o={};o.extend=function(t,e){for(var i in e)t[i]=e[i];return t},o.modulo=function(t,e){return(t%e+e)%e};var r=Object.prototype.toString;o.isArray=function(t){return"[object Array]"==r.call(t)},o.makeArray=function(t){var e=[];if(o.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;i<n;i++)e.push(t[i]);else e.push(t);return e},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},o.removeFrom=function(t,e){var i=o.indexOf(t,e);-1!=i&&t.splice(i,1)},o.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function t(e){return e instanceof HTMLElement}:function t(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},o.setText=function(){function t(t,i){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=i}var e;return t}(),o.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,n(t,e))return t},o.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},o.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.filterFindElements=function(t,e){t=o.makeArray(t);for(var i=[],r=0,s=t.length;r<s;r++){var a=t[r];if(o.isElement(a))if(e){n(a,e)&&i.push(a);for(var l=a.querySelectorAll(e),c=0,d=l.length;c<d;c++)i.push(l[c])}else i.push(a)}return i},o.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},o.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var s=e.console;return o.htmlInit=function(t,n){i(function(){for(var i=o.toDashed(n),r=document.querySelectorAll(".js-"+i),a="data-"+i+"-options",l=0,c=r.length;l<c;l++){var d=r[l],u=d.getAttribute(a),p;try{p=u&&JSON.parse(u)}catch(t){s&&s.error("Error parsing "+a+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+t);continue}var h=new t(d,p),f=e.jQuery;f&&f.data(d,n,h)}})},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,function t(e,i,n,o,r){"use strict";function s(t){for(var e in t)return!1;return e=null,!0}function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function l(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var c=e.getComputedStyle,d=c?function(t){return c(t,null)}:function(t){return t.currentStyle},u=o("transition"),p=o("transform"),h=u&&p,f=!!o("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],g=["transform","transition","transitionDuration","transitionProperty"],v=function(){for(var t={},e=0,i=g.length;e<i;e++){var n=g[e],r=o(n);r&&r!==n&&(t[n]=r)}return t}();r.extend(a.prototype,i.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){e[v[i]||i]=t[i]}},a.prototype.getPosition=function(){var t=d(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=t[i?"left":"right"],r=t[n?"top":"bottom"],s=this.layout.size,a=-1!=o.indexOf("%")?parseFloat(o)/100*s.width:parseInt(o,10),l=-1!=r.indexOf("%")?parseFloat(r)/100*s.height:parseInt(r,10);a=isNaN(a)?0:a,l=isNaN(l)?0:l,a-=i?s.paddingLeft:s.paddingRight,l-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=l},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={},n=e.isOriginLeft?"paddingLeft":"paddingRight",o=e.isOriginLeft?"left":"right",r=e.isOriginLeft?"right":"left",s=this.position.x+t[n];i[o]=this.getXValue(s),i[r]="";var a=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",c=e.isOriginTop?"bottom":"top",d=this.position.y+t[a];i[l]=this.getYValue(d),i[c]="",this.css(i),this.emitEvent("layout",[this])},a.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},a.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-n,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.getTranslate=function(t,e){var i=this.layout.options;return t=i.isOriginLeft?t:-t,e=i.isOriginTop?e:-e,f?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=h?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var y="opacity,"+l(v.transform||"transform");a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:y,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},a.prototype.transition=a.prototype[u?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var b={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=b[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],s(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){e.onEnd[i].call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var w={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(w)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.once("transitionEnd",function(){t.removeElem()}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},a.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},a.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r,s){return e(t,i,n,o,r,s)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function t(e,i,n,o,r,s){"use strict";function a(t,e){var i=r.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,c&&(this.$element=c(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e);var n=++u;this.element.outlayerGUID=n,p[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var l=e.console,c=e.jQuery,d=function(){},u=0,p={};return a.namespace="outlayer",a.Item=s,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(a.prototype,n.prototype),a.prototype.option=function(t){r.extend(this.options,t)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=new i(s,this);n.push(a)}return n},a.prototype._filterFindItemElements=function(t){return r.filterFindElements(t,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;e<i;e++)t.push(this.items[e].element);return t},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype._getMeasurement=function(t,e){var i=this.options[t],n;i?("string"==typeof i?n=this.element.querySelector(i):r.isElement(i)&&(n=i),this[t]=n?o(n)[e]:i):this[t]=0},a.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},a.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i];o.isIgnored||e.push(o)}return e},a.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=e||r.isLayoutInstant,i.push(s)}this._processLayoutQueue(i)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},a.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},a.prototype._getContainerSize=d,a.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},a.prototype._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){++s===r&&i()}var o=this,r=e.length;if(!e||!r)return void i();for(var s=0,a=0,l=e.length;a<l;a++){e[a].once(t,n)}},a.prototype.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),c)if(this.$element=this.$element||c(this.element),e){var o=c.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},a.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},a.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},a.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;e<i;e++){var n=t[e];this.ignore(n)}}},a.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;e<i;e++){var n=t[e];r.removeFrom(this.stamps,n),this.unignore(n)}},a.prototype._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=r.makeArray(t)},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;t<e;t++){var i=this.stamps[t];this._manageStamp(i)}}},a.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},a.prototype._manageStamp=d,a.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=o(t);return{left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom}},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.bindResize=function(){this.isResizeBound||(i.bind(e,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(e,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},a.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},a.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},a.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].reveal()}},a.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].hide()}},a.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},a.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},a.prototype.getItem=function(t){for(var e=0,i=this.items.length;e<i;e++){var n=this.items[e];if(n.element===t)return n}},a.prototype.getItems=function(t){t=r.makeArray(t);for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i],s=this.getItem(o);s&&e.push(s)}return e},a.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var i=0,n=e.length;i<n;i++){var o=e[i];o.remove(),r.removeFrom(this.items,o)}},a.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;e<i;e++){this.items[e].destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete p[n],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},a.data=function(t){t=r.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&p[e]},a.create=function(t,e){function i(){a.apply(this,arguments)}return Object.create?i.prototype=Object.create(a.prototype):r.extend(i.prototype,a.prototype),i.prototype.constructor=i,i.defaults=r.extend({},a.defaults),r.extend(i.defaults,e),i.prototype.settings={},i.namespace=t,i.data=a.data,i.Item=function t(){s.apply(this,arguments)},i.Item.prototype=new s,r.htmlInit(i,t),c&&c.bridget&&c.bridget(t,i),i},a.Item=s,a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function t(e){"use strict";function i(){e.Item.apply(this,arguments)}i.prototype=new e.Item,i.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},i.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var n=i.prototype.destroy;return i.prototype.destroy=function(){n.apply(this,arguments),this.css({display:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function t(e,i){"use strict";function n(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return i.prototype[t].apply(this.isotope,arguments)}}for(var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],o=0,r=e.length;o<r;o++){var s=e[o];n.prototype[s]=t(s)}}(),n.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return i.prototype=new n,e&&(i.options=e),i.prototype.namespace=t,n.modes[t]=i,i},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,function t(e,i,n){var o=e.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],e=t&&t.element;this.columnWidth=e&&i(e).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&s<1?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,e=i(t);this.containerWidth=e&&e.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=n.indexOf(r,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,d=this.cols+1-r.length,u=0;u<d;u++)this.colYs[a+u]=c;return l},o.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},o.prototype._manageStamp=function(t){var e=i(t),n=this._getElementOffset(t),o=this.options.isOriginLeft?n.left:n.right,r=o+e.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+e.outerHeight,c=s;c<=a;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function t(e,i){"use strict";function n(t,e){for(var i in e)t[i]=e[i];return t}var o=e.create("masonry"),r=o.prototype._getElementOffset,s=o.prototype.layout,a=o.prototype._getMeasurement;n(o.prototype,i.prototype),o.prototype._getElementOffset=r,o.prototype.layout=s,o.prototype._getMeasurement=a;var l=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,l.call(this)};var c=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,c.apply(this,arguments)},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function t(e){"use strict";var i=e.create("fitRows");return i.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i.prototype._getContainerSize=function(){return{height:this.maxY}},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function t(e){"use strict";var i=e.create("vertical",{horizontalAlignment:0});return i.prototype._resetLayout=function(){this.y=0},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i.prototype._getContainerSize=function(){return{height:this.y}},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,r,s,a){return e(t,i,n,o,r,s,a)}):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function t(e,i,n,o,r,s,a){function l(t,e){return function i(n,o){for(var r=0,s=t.length;r<s;r++){var a=t[r],l=n.sortData[a],c=o.sortData[a];if(l>c||l<c){var d=void 0!==e[a]?e[a]:e,u=d?1:-1;return(l>c?1:-1)*u}}return 0}}var c=e.jQuery,d=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement,p=u.textContent?function(t){return t.textContent}:function(t){return t.innerText},h=i.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=s,h.LayoutMode=a,h.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),i.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in a.modes)this._initLayoutMode(t)},h.prototype.reloadItems=function(){this.itemGUID=0,i.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var t=i.prototype._itemize.apply(this,arguments),e=0,n=t.length;e<n;e++){t[e].id=this.itemGUID++}return this._updateItemsSortData(t),t},h.prototype._initLayoutMode=function(t){var e=a.modes[t],i=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,i):i,this.modes[t]=new e(this)},h.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout)return void this.arrange();this._layout()},h.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},h.prototype.arrange=function(t){function e(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(t),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},h.prototype._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},h.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),s=0,a=t.length;s<a;s++){var l=t[s];if(!l.isIgnored){var c=r(l);c&&i.push(l),c&&l.isHidden?n.push(l):c||l.isHidden||o.push(l)}}return{matches:i,needReveal:n,needHide:o}},h.prototype._getFilterTest=function(t){return c&&this.options.isJQueryFiltering?function(e){return c(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){
return o(e.element,t)}},h.prototype.updateSortData=function(t){var e;t?(t=r.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},h.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},h.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=d(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),r=o&&o[1],s=e(r,n),a=h.sortDataParsers[i[1]];return t=a?function(t){return t&&a(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&p(i)}}return t}();h.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},h.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=l(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},h.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},h.prototype._resetLayout=function(){i.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},h.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},h.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},h.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},h.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;i<o;i++)n=e[i],this.element.appendChild(n.element);var r=this._filter(e).matches;for(i=0;i<o;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<o;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var m=h.prototype.remove;return h.prototype.remove=function(t){t=r.makeArray(t);var e=this.getItems(t);m.call(this,t);var i=e&&e.length;if(i)for(var n=0;n<i;n++){var o=e[n];r.removeFrom(this.filteredItems,o)}},h.prototype.shuffle=function(){for(var t=0,e=this.items.length;t<e;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},h.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},h.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;e<i;e++)t.push(this.filteredItems[e].element);return t},h}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function t(e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function o(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),$&&(this.jqDeferred=new $.Deferred),setTimeout(function(){this.check()}.bind(this))}function s(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var $=e.jQuery,l=e.console;r.prototype=Object.create(i.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new s(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new a(t,e);this.images.push(i)},r.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();this.images.forEach(function(e){e.once("progress",t),e.check()})},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},s.prototype=Object.create(i.prototype),s.prototype.check=function(){if(this.getIsImageComplete())return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(s.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&($=t,$.fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise($(this))})},r.makeJQueryPlugin(),r}),function($){$.isScrollToFixed=function(t){return!!$(t).data("ScrollToFixed")},$.ScrollToFixed=function(t,e){function i(){v.trigger("preUnfixed.ScrollToFixed"),c(),v.trigger("unfixed.ScrollToFixed"),k=-1,I=v.offset().top,_=v.offset().left,m.options.offsets&&(_+=v.offset().left-v.position().left),-1==T&&(T=_),y=v.css("position"),g=!0,-1!=m.options.bottom&&(v.trigger("preFixed.ScrollToFixed"),a(),v.trigger("fixed.ScrollToFixed"))}function n(){var t=m.options.limit;return t?"function"==typeof t?t.apply(v):t:0}function o(){return"fixed"===y}function r(){return"absolute"===y}function s(){return!(o()||r())}function a(){if(!o()){var t=v[0].getBoundingClientRect();H.css({display:v.css("display"),width:t.width,height:t.height,float:v.css("float")}),cssOptions={"z-index":m.options.zIndex,position:"fixed",top:-1==m.options.bottom?u():"",bottom:-1==m.options.bottom?"":m.options.bottom,"margin-left":"0px"},m.options.dontSetWidth||(cssOptions.width=v.css("width")),v.css(cssOptions),v.addClass(m.options.baseClassName),m.options.className&&v.addClass(m.options.className),y="fixed"}}function l(){var t=n(),e=_;m.options.removeOffsets&&(e="",t-=I),cssOptions={position:"absolute",top:t,left:e,"margin-left":"0px",bottom:""},m.options.dontSetWidth||(cssOptions.width=v.css("width")),v.css(cssOptions),y="absolute"}function c(){s()||(k=-1,H.css("display","none"),v.css({"z-index":C,width:"",position:b,left:"",top:x,"margin-left":""}),v.removeClass("scroll-to-fixed-fixed"),m.options.className&&v.removeClass(m.options.className),y=null)}function d(t){t!=k&&(v.css("left",_-t),k=t)}function u(){var t=m.options.marginTop;return t?"function"==typeof t?t.apply(v):t:0}function p(){if($.isScrollToFixed(v)&&!v.is(":hidden")){var t=g,e=s();g?s()&&(I=v.offset().top,_=v.offset().left):i();var p=$(window).scrollLeft(),y=$(window).scrollTop(),w=n();m.options.minWidth&&$(window).width()<m.options.minWidth?s()&&t||(f(),v.trigger("preUnfixed.ScrollToFixed"),c(),v.trigger("unfixed.ScrollToFixed")):m.options.maxWidth&&$(window).width()>m.options.maxWidth?s()&&t||(f(),v.trigger("preUnfixed.ScrollToFixed"),c(),v.trigger("unfixed.ScrollToFixed")):-1==m.options.bottom?w>0&&y>=w-u()?e||r()&&t||(f(),v.trigger("preAbsolute.ScrollToFixed"),l(),v.trigger("unfixed.ScrollToFixed")):y>=I-u()?(o()&&t||(f(),v.trigger("preFixed.ScrollToFixed"),a(),k=-1,v.trigger("fixed.ScrollToFixed")),d(p)):s()&&t||(f(),v.trigger("preUnfixed.ScrollToFixed"),c(),v.trigger("unfixed.ScrollToFixed")):w>0?y+$(window).height()-v.outerHeight(!0)>=w-(u()||-h())?o()&&(f(),v.trigger("preUnfixed.ScrollToFixed"),"absolute"===b?l():c(),v.trigger("unfixed.ScrollToFixed")):(o()||(f(),v.trigger("preFixed.ScrollToFixed"),a()),d(p),v.trigger("fixed.ScrollToFixed")):d(p)}}function h(){return m.options.bottom?m.options.bottom:0}function f(){var t=v.css("position");"absolute"==t?v.trigger("postAbsolute.ScrollToFixed"):"fixed"==t?v.trigger("postFixed.ScrollToFixed"):v.trigger("postUnfixed.ScrollToFixed")}var m=this;m.$el=$(t),m.el=t,m.$el.data("ScrollToFixed",m);var g=!1,v=m.$el,y,b,w,x,C,I=0,_=0,T=-1,k=-1,H=null,E,W,z=function(t){v.is(":visible")?(g=!1,p()):c()},S=function(t){window.requestAnimationFrame?requestAnimationFrame(p):p()},M=function(){var t=document.body;if(document.createElement&&t&&t.appendChild&&t.removeChild){var e=document.createElement("div");if(!e.getBoundingClientRect)return null;e.innerHTML="x",e.style.cssText="position:fixed;top:100px;",t.appendChild(e);var i=t.style.height,n=t.scrollTop;t.style.height="3000px",t.scrollTop=500;var o=e.getBoundingClientRect().top;t.style.height=i;var r=100===o;return t.removeChild(e),t.scrollTop=n,r}return null},P=function(t){t=t||window.event,t.preventDefault&&t.preventDefault(),t.returnValue=!1};m.init=function(){m.options=$.extend({},$.ScrollToFixed.defaultOptions,e),C=v.css("z-index"),m.$el.css("z-index",m.options.zIndex),H=$("<div />"),y=v.css("position"),b=v.css("position"),w=v.css("float"),x=v.css("top"),s()&&m.$el.after(H),$(window).bind("resize.ScrollToFixed",z),$(window).bind("scroll.ScrollToFixed",S),"ontouchmove"in window&&$(window).bind("touchmove.ScrollToFixed",p),m.options.preFixed&&v.bind("preFixed.ScrollToFixed",m.options.preFixed),m.options.postFixed&&v.bind("postFixed.ScrollToFixed",m.options.postFixed),m.options.preUnfixed&&v.bind("preUnfixed.ScrollToFixed",m.options.preUnfixed),m.options.postUnfixed&&v.bind("postUnfixed.ScrollToFixed",m.options.postUnfixed),m.options.preAbsolute&&v.bind("preAbsolute.ScrollToFixed",m.options.preAbsolute),m.options.postAbsolute&&v.bind("postAbsolute.ScrollToFixed",m.options.postAbsolute),m.options.fixed&&v.bind("fixed.ScrollToFixed",m.options.fixed),m.options.unfixed&&v.bind("unfixed.ScrollToFixed",m.options.unfixed),m.options.spacerClass&&H.addClass(m.options.spacerClass),v.bind("resize.ScrollToFixed",function(){H.height(v.height())}),v.bind("scroll.ScrollToFixed",function(){v.trigger("preUnfixed.ScrollToFixed"),c(),v.trigger("unfixed.ScrollToFixed"),p()}),v.bind("detach.ScrollToFixed",function(t){P(t),v.trigger("preUnfixed.ScrollToFixed"),c(),v.trigger("unfixed.ScrollToFixed"),$(window).unbind("resize.ScrollToFixed",z),$(window).unbind("scroll.ScrollToFixed",S),v.unbind(".ScrollToFixed"),H.remove(),m.$el.removeData("ScrollToFixed")}),z()},m.init()},$.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},$.fn.scrollToFixed=function(t){return this.each(function(){new $.ScrollToFixed(this,t)})}}(jQuery),function($,t,e,i){var n=function(i,n){this.elem=i,this.$elem=$(i),this.options=n,this.metadata=this.$elem.data("plugin-options"),this.$win=$(t),this.sections={},this.didScroll=!1,this.$doc=$(e),this.docHeight=this.$doc.height()};n.prototype={defaults:{navItems:"a",currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){return this.config=$.extend({},this.defaults,this.options,this.metadata),this.$nav=this.$elem.find(this.config.navItems),""!==this.config.filter&&(this.$nav=this.$nav.filter(this.config.filter)),this.$nav.on("click.onePageNav",$.proxy(this.handleClick,this)),this.getPositions(),this.bindInterval(),this.$win.on("resize.onePageNav",$.proxy(this.getPositions,this)),this},adjustNav:function(t,e){t.$elem.find("."+t.config.currentClass).removeClass(t.config.currentClass),e.addClass(t.config.currentClass)},bindInterval:function(){var t=this,e;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){e=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),e!==t.docHeight&&(t.docHeight=e,t.getPositions())},250)},getHash:function(t){return t.attr("href").split("#")[1]},getPositions:function(){var t=this,e,i,n;t.$nav.each(function(){e=t.getHash($(this)),n=$("#"+e),n.length&&(i=n.offset().top,t.sections[e]=Math.round(i))})},getSection:function(t){var e=null,i=Math.round(this.$win.height()*this.config.scrollThreshold);for(var n in this.sections)this.sections[n]-i<t&&(e=n);return e},handleClick:function(e){var i=this,n=$(e.currentTarget),o=n.parent(),r="#"+i.getHash(n);o.hasClass(i.config.currentClass)||(i.config.begin&&i.config.begin(),i.adjustNav(i,o),i.unbindInterval(),i.scrollTo(r,function(){i.config.changeHash&&(t.location.hash=r),i.bindInterval(),i.config.end&&i.config.end()})),e.preventDefault()},scrollChange:function(){var t=this.$win.scrollTop(),e=this.getSection(t),i;null!==e&&(i=this.$elem.find('a[href$="#'+e+'"]').parent(),i.hasClass(this.config.currentClass)||(this.adjustNav(this,i),this.config.scrollChange&&this.config.scrollChange(i)))},scrollTo:function(t,e){var i=$(t).offset().top;$("html, body").animate({scrollTop:i},this.config.scrollSpeed,this.config.easing,e)},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},n.defaults=n.prototype.defaults,$.fn.onePageNav=function(t){return this.each(function(){new n(this,t).init()})}}(jQuery,window,document),function($){function t(n,o){var r=n.data("settings")||{direction:"left"};void 0===o&&(o=!1),o&&i(n);var s=e(n);n.animate(s.css,s.time,"linear",function(){n.css(r.direction,"0"),t(n,!0)})}function e(t){var e=t.data("settings")||{direction:"left",speed:50},i=t.children().first(),n=Math.abs(-t.css(e.direction).replace("px","").replace("auto","0")-i.outerWidth(!0)),e=t.data("settings"),o=1e3*n/e.speed,r={};return r[e.direction]=t.css(e.direction).replace("px","").replace("auto","0")-n,{css:r,time:o}}function i(t){var e=t.data("settings")||{direction:"left"};t.css("transition-duration","0s").css(e.direction,"0");var i=t.children().first();i.hasClass("webticker-init")?i.remove():t.children().last().after(i)}function n(t,n){void 0===n&&(n=!1),n&&i(t);var o=e(t),r=o.time/1e3;r+="s",t.css(o.css).css("transition-duration",r)}function o(t,e,i){var n=[];$.get(t,function(t){$(t).find("item").each(function(){var t=$(this),e={title:t.find("title").text(),link:t.find("link").text()};listItem="<li><a href='"+e.link+"'>"+e.title+"</a></li>",n+=listItem}),i.webTicker("update",n,e)})}function r(t){if(t.children("li").length<1)return window.console&&console.log("no items to initialize"),!1;var e=t.data("settings");e.duplicateLoops=e.duplicateLoops||0,t.width("auto");var i=0;if(t.children("li").each(function(){i+=$(this).outerWidth(!0)}),i<t.parent().width()||1==t.children().length)if(e.duplicate){itemWidth=Math.max.apply(Math,t.children().map(function(){return $(this).width()}).get());for(var n=0;i-itemWidth<t.parent().width()||1==t.children().length||n<e.duplicateLoops;){var o=t.children().clone();t.append(o),i=0,t.children("li").each(function(){i+=$(this).outerWidth(!0)}),itemWidth=Math.max.apply(Math,t.children().map(function(){return $(this).width()}).get()),n++}e.duplicateLoops=n}else{var r=t.parent().width()-i;r+=t.find("li:first").width();var s=t.find("li:first").height();t.append('<li class="ticker-spacer" style="width:'+r+"px;height:"+s+'px;"></li>')}if(e.startEmpty){var s=t.find("li:first").height();t.prepend('<li class="webticker-init" style="width:'+t.parent().width()+"px;height:"+s+'px;"></li>')}for(i=0,t.children("li").each(function(){i+=$(this).outerWidth(!0)}),t.width(i+200),widthCompare=0,t.children("li").each(function(){widthCompare+=$(this).outerWidth(!0)});widthCompare>=t.width();)t.width(t.width()+200),widthCompare=0,t.children("li").each(function(){widthCompare+=$(this).outerWidth(!0)});return!0}var s=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(""==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),a={init:function(e){return e=jQuery.extend({speed:50,direction:"left",moving:!0,startEmpty:!0,duplicate:!1,rssurl:!1,hoverpause:!0,rssfrequency:0,updatetype:"reset"},e),this.each(function(){jQuery(this).data("settings",e);var i=jQuery(this);i.addClass("newsticker"),i.wrap("<div class='mask'></div>").after("<span class='tickeroverlay-left'>&nbsp;</span><span class='tickeroverlay-right'>&nbsp;</span>");var a=i.parent().wrap("<div class='tickercontainer'></div>"),l=r(i);e.rssurl&&(o(e.rssurl,e.type,i),e.rssfrequency>0&&window.setInterval(function(){o(e.rssurl,e.type,i)},1e3*e.rssfrequency*60)),s?(i.css("transition-duration","0s").css(e.direction,"0"),l&&n(i,!1),i.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(t){if(!i.is(t.target))return!1;n($(this),!0)})):l&&t($(this)),e.hoverpause&&i.hover(function(){if(s){var t=$(this).css(e.direction);$(this).css("transition-duration","0s").css(e.direction,t)}else jQuery(this).stop()},function(){jQuery(this).data("settings").moving&&(s?n($(this),!1):t(i))})})},stop:function(){var t=$(this).data("settings");if(t.moving)return t.moving=!1,this.each(function(){if(s){var e=$(this).css(t.direction);$(this).css("transition-duration","0s").css(t.direction,e)}else $(this).stop()})},cont:function(){var e=$(this).data("settings");if(!e.moving)return e.moving=!0,this.each(function(){s?n($(this),!1):t($(this))})},update:function(t,e,i,n){e=e||"reset",void 0===i&&(i=!0),void 0===n&&(n=!1),"string"==typeof t&&(t=$(t));var o=$(this);o.webTicker("stop");var s=$(this).data("settings");if("reset"==e)o.html(t),o.css(s.direction,"0"),r(o);else if("swap"==e)if(window.console&&console.log("trying to update"),o.children("li").length<1)o.html(t),o.css(s.direction,"0"),r(o);else{o.children("li").addClass("old");for(var a=0;a<t.length;a++)id=$(t[a]).data("update"),match=o.find('[data-update="'+id+'"]'),match.length<1?i&&(0==o.find(".ticker-spacer:first-child").length&&o.find(".ticker-spacer").length>0?o.children("li.ticker-spacer").before(t[a]):o.append(t[a])):o.find('[data-update="'+id+'"]').replaceWith(t[a]);o.children("li.webticker-init, li.ticker-spacer").removeClass("old"),n&&o.children("li").remove(".old"),stripWidth=0,o.children("li").each(function(){stripWidth+=$(this).outerWidth(!0)}),o.width(stripWidth+200)}o.webTicker("cont")}};$.fn.webTicker=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.webTicker"):a.init.apply(this,arguments)}}(jQuery),cartStuff(),$(".product-add__btn").on("click",function(){$("#items").empty(),$("#bagtotal").empty(),cartStuff(),$("#bag").addClass("is-visible"),setTimeout(function(){$("#bag").removeClass("is-visible")},2e3)}),$(".wallpaper").background({lazy:!0}),$(".carousel").carousel({}),$(".product-carousel").carousel({}),$("input[type='number']").number(),$(".btn--swap").swap(),$(".swap").swap(),$(".product--swap").swap(),$(".lightbox").lightbox({}),$(window).resize(function(){var t=$(window).height(),e=$("#header").height();$(".hero--wh").css({height:.75*(t-e)})}).resize(),$(function(){var t=!0;if($(".grid").length){$(".grid").isotope({itemSelector:".grid-item"}),t=!1}$.fn.almComplete=function(e){if($(".grid").length){var i=$(".grid");t||(i.isotope("reloadItems"),i.imagesLoaded(function(){i.isotope()}))}}}),$(document).ready(function(){openModal(),arrangeBlog(),productHover(),scrollFixed(),$("#header-navigation .menu-item-has-children").hover(function(){$(".home__hero").addClass("is-active")},function(){$(".home__hero").removeClass("is-active")}),$(".single-page").onePageNav({currentClass:"current",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(t){}})});